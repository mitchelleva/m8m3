{"ast":null,"code":"import { p as pick, _ as _objectSpread2, o as omit, s as styled, u as useInputContext, R as Row, L as Label, V as ValueInput, P as Portal, O as Overlay, c as createInternalPlugin, a as Vector, g as getVectorPlugin, b as useTransform, d as useTh, e as useDrag, f as _extends, m as multiplyStep, h as clamp, i as _objectWithoutProperties, n as normalizeKeyedNumberSettings, j as invertedRange, k as sanitizeStep, r as range, l as RangeWrapper, q as Range, I as Indicator, S as Scrubber, t as getUid, v as SpecialInputs, w as warn, x as LevaErrors, y as updateInput, z as normalizeInput, A as StyledTitle, C as Chevron, B as useInputSetters, D as Plugins, E as InputContext, F as StyledInputWrapper, G as useCanvas2d, H as useInput, J as log, K as StyledWrapper, M as StyledContent, N as useStoreContext, Q as StyledFolder, T as StyledInputRow, U as debounce, W as PanelSettingsContext, X as StoreContext, Y as mergeTheme, Z as ThemeContext, $ as register, a0 as LevaInputs, a1 as select, a2 as number$1, a3 as string, a4 as boolean } from './vector-plugin-30dc83ff.esm.js';\nexport { a5 as LevaStoreProvider, N as useStoreContext } from './vector-plugin-30dc83ff.esm.js';\nimport v8n from 'v8n';\nimport tc from 'tinycolor2';\nimport { dequal } from 'dequal/lite';\nimport React, { useRef, useMemo, useLayoutEffect, useEffect, useState, useCallback, forwardRef, useImperativeHandle } from 'react';\nimport { RgbaColorPicker, RgbColorPicker } from 'react-colorful';\nimport shallow from 'zustand/shallow';\nimport { useDrag as useDrag$1 } from 'react-use-gesture';\nimport '@radix-ui/react-portal';\nimport '@radix-ui/react-tooltip';\nimport { useDropzone } from 'react-dropzone';\nimport create from 'zustand';\nimport ReactDOM from 'react-dom';\nimport merge from 'merge-value';\nimport '@stitches/react';\nconst join = (...args) => args.filter(Boolean).join('.');\nfunction getKeyPath(path) {\n  const dir = path.split('.');\n  return [dir.pop(), dir.join('.') || undefined];\n}\nfunction getValuesForPaths(data, paths) {\n  return Object.entries(pick(data, paths)).reduce((acc, [, {\n    value,\n    disabled,\n    key\n  }]) => {\n    acc[key] = disabled ? undefined : value;\n    return acc;\n  }, {});\n}\nfunction useCompareMemoize(value, deep) {\n  const ref = useRef();\n  const compare = deep ? dequal : shallow;\n  if (!compare(value, ref.current)) {\n    ref.current = value;\n  }\n  return ref.current;\n}\nfunction useDeepMemo(fn, deps) {\n  return useMemo(fn, useCompareMemoize(deps, true));\n}\nfunction useToggle(toggled) {\n  const wrapperRef = useRef(null);\n  const contentRef = useRef(null);\n  const firstRender = useRef(true);\n  useLayoutEffect(() => {\n    if (!toggled) {\n      wrapperRef.current.style.height = '0px';\n      wrapperRef.current.style.overflow = 'hidden';\n    }\n  }, []);\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n    let timeout;\n    const ref = wrapperRef.current;\n    const fixHeight = () => {\n      if (toggled) {\n        ref.style.removeProperty('height');\n        ref.style.removeProperty('overflow');\n        contentRef.current.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    };\n    ref.addEventListener('transitionend', fixHeight, {\n      once: true\n    });\n    const {\n      height\n    } = contentRef.current.getBoundingClientRect();\n    ref.style.height = height + 'px';\n    if (!toggled) {\n      ref.style.overflow = 'hidden';\n      timeout = window.setTimeout(() => ref.style.height = '0px', 50);\n    }\n    return () => {\n      ref.removeEventListener('transitionend', fixHeight);\n      clearTimeout(timeout);\n    };\n  }, [toggled]);\n  return {\n    wrapperRef,\n    contentRef\n  };\n}\nconst useVisiblePaths = store => {\n  const [paths, setPaths] = useState(store.getVisiblePaths());\n  useEffect(() => {\n    setPaths(store.getVisiblePaths());\n    const unsub = store.useStore.subscribe(setPaths, store.getVisiblePaths, shallow);\n    return () => unsub();\n  }, [store]);\n  return paths;\n};\nfunction useValuesForPath(store, paths, initialData) {\n  const init = useRef(true);\n  const valuesForPath = store.useStore(s => {\n    const data = init.current ? initialData : s.data;\n    return getValuesForPaths(data, paths);\n  }, shallow);\n  init.current = false;\n  return valuesForPath;\n}\nfunction usePopin(margin = 3) {\n  const popinRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const [shown, setShow] = useState(false);\n  const show = useCallback(() => setShow(true), []);\n  const hide = useCallback(() => setShow(false), []);\n  useLayoutEffect(() => {\n    if (shown) {\n      const {\n        bottom,\n        top,\n        left\n      } = popinRef.current.getBoundingClientRect();\n      const {\n        height\n      } = wrapperRef.current.getBoundingClientRect();\n      const direction = bottom + height > window.innerHeight - 40 ? 'up' : 'down';\n      wrapperRef.current.style.position = 'fixed';\n      wrapperRef.current.style.zIndex = '10000';\n      wrapperRef.current.style.left = left + 'px';\n      if (direction === 'down') wrapperRef.current.style.top = bottom + margin + 'px';else wrapperRef.current.style.bottom = window.innerHeight - top + margin + 'px';\n    }\n  }, [margin, shown]);\n  return {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  };\n}\nconst convertMap = {\n  rgb: 'toRgb',\n  hsl: 'toHsl',\n  hsv: 'toHsv',\n  hex: 'toHexString',\n  hex8: 'toHex8String'\n};\nv8n.extend({\n  color: () => value => tc(value).isValid()\n});\nconst schema$2 = o => v8n().color().test(o);\nfunction convert(color, {\n  format,\n  hasAlpha,\n  isString\n}) {\n  const _format = format === 'hex' && hasAlpha ? 'hex8' : format;\n  if (isString) return color.toString(_format);\n  const colorObj = color[convertMap[_format]]();\n  return hasAlpha ? colorObj : omit(colorObj, ['a']);\n}\nconst sanitize$2 = (v, settings) => {\n  const color = tc(v);\n  if (!color.isValid()) throw Error('Invalid color');\n  return convert(color, settings);\n};\nconst format$1 = (v, settings) => {\n  return convert(tc(v), _objectSpread2(_objectSpread2({}, settings), {}, {\n    isString: true,\n    format: 'hex'\n  }));\n};\nconst normalize$3 = ({\n  value\n}) => {\n  const color = tc(value);\n  const _f = color.getFormat();\n  const format = _f === 'name' || _f === 'hex8' ? 'hex' : _f;\n  const hasAlpha = typeof value === 'object' ? 'a' in value : _f === 'hex8' || /^(rgba)|(hsla)|(hsva)/.test(value);\n  const settings = {\n    format,\n    hasAlpha,\n    isString: typeof value === 'string'\n  };\n  return {\n    value: sanitize$2(value, settings),\n    settings\n  };\n};\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format$1,\n  normalize: normalize$3\n});\nconst ColorPreview = styled('div', {\n  position: 'relative',\n  boxSizing: 'border-box',\n  borderRadius: '$leva__sm',\n  overflow: 'hidden',\n  cursor: 'pointer',\n  height: '$leva__rowHeight',\n  width: '$leva__rowHeight',\n  backgroundColor: '#fff',\n  backgroundImage: `url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>')`,\n  $leva__inputStyle: '',\n  $leva__hover: '',\n  zIndex: 1,\n  variants: {\n    active: {\n      true: {\n        $leva__inputStyle: '$leva__accent1'\n      }\n    }\n  },\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'currentColor',\n    zIndex: 1\n  }\n});\nconst PickerContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$leva__rowHeight auto',\n  columnGap: '$leva__colGap',\n  alignItems: 'center'\n});\nconst PickerWrapper = styled('div', {\n  width: '$leva__colorPickerWidth',\n  height: '$leva__colorPickerHeight',\n  '.react-colorful': {\n    width: '100%',\n    height: '100%',\n    boxShadow: '$leva__level2',\n    cursor: 'crosshair'\n  },\n  '.react-colorful__saturation': {\n    borderRadius: '$leva__sm $leva__sm 0 0'\n  },\n  '.react-colorful__alpha, .react-colorful__hue': {\n    height: 10\n  },\n  '.react-colorful__last-control': {\n    borderRadius: '0 0 $leva__sm $leva__sm'\n  },\n  '.react-colorful__pointer': {\n    height: 12,\n    width: 12\n  }\n});\nfunction convertToRgb(value, format) {\n  return format !== 'rgb' ? tc(value).toRgb() : value;\n}\nfunction Color({\n  value,\n  displayValue,\n  settings,\n  onUpdate\n}) {\n  const {\n    format,\n    hasAlpha\n  } = settings;\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const timer = useRef(0);\n  const [initialRgb, setInitialRgb] = useState(() => convertToRgb(value, format));\n  const ColorPicker = hasAlpha ? RgbaColorPicker : RgbColorPicker;\n  const showPicker = () => {\n    setInitialRgb(convertToRgb(value, format));\n    show();\n  };\n  const hideAfterDelay = () => {\n    timer.current = window.setTimeout(hide, 500);\n  };\n  return React.createElement(React.Fragment, null, React.createElement(ColorPreview, {\n    ref: popinRef,\n    active: shown,\n    onClick: () => showPicker(),\n    style: {\n      color: displayValue\n    }\n  }), shown && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hide\n  }), React.createElement(PickerWrapper, {\n    ref: wrapperRef,\n    onMouseEnter: () => window.clearTimeout(timer.current),\n    onMouseLeave: e => e.buttons === 0 && hideAfterDelay()\n  }, React.createElement(ColorPicker, {\n    color: initialRgb,\n    onChange: onUpdate\n  }))));\n}\nfunction ColorComponent() {\n  const {\n    value,\n    displayValue,\n    label,\n    onChange,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(PickerContainer, null, React.createElement(Color, {\n    value: value,\n    displayValue: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate,\n    settings: settings\n  }), React.createElement(ValueInput, {\n    value: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate\n  })));\n}\nvar color = createInternalPlugin(_objectSpread2({\n  component: ColorComponent\n}, props$2));\nfunction Vector3dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }));\n}\nvar vector3d = createInternalPlugin(_objectSpread2({\n  component: Vector3dComponent\n}, getVectorPlugin(['x', 'y', 'z'])));\nconst JoystickTrigger = styled('div', {\n  $leva__flexCenter: '',\n  position: 'relative',\n  backgroundColor: '$leva__elevation3',\n  borderRadius: '$leva__sm',\n  cursor: 'pointer',\n  height: '$leva__rowHeight',\n  width: '$leva__rowHeight',\n  $leva__draggable: '',\n  $leva__hover: '',\n  '&:active': {\n    cursor: 'none'\n  },\n  '&::after': {\n    content: '\"\"',\n    backgroundColor: '$leva__accent2',\n    height: 4,\n    width: 4,\n    borderRadius: 2\n  }\n});\nconst JoystickPlayground = styled('div', {\n  $leva__flexCenter: '',\n  width: '$leva__joystickWidth',\n  height: '$leva__joystickHeight',\n  borderRadius: '$leva__sm',\n  boxShadow: '$leva__level2',\n  position: 'fixed',\n  zIndex: 10000,\n  overflow: 'hidden',\n  $leva__draggable: '',\n  transform: 'translate(-50%, -50%)',\n  variants: {\n    isOutOfBounds: {\n      true: {\n        backgroundColor: '$leva__elevation1'\n      },\n      false: {\n        backgroundColor: '$leva__elevation3'\n      }\n    }\n  },\n  '> div': {\n    position: 'absolute',\n    $leva__flexCenter: '',\n    borderStyle: 'solid',\n    borderWidth: 1,\n    borderColor: '$leva__highlight1',\n    backgroundColor: '$leva__elevation3',\n    width: '80%',\n    height: '80%',\n    '&::after,&::before': {\n      content: '\"\"',\n      position: 'absolute',\n      zindex: 10,\n      backgroundColor: '$leva__highlight1'\n    },\n    '&::before': {\n      width: '100%',\n      height: 1\n    },\n    '&::after': {\n      height: '100%',\n      width: 1\n    }\n  },\n  '> span': {\n    position: 'relative',\n    zindex: 100,\n    width: 10,\n    height: 10,\n    backgroundColor: '$leva__accent2',\n    borderRadius: '50%'\n  }\n});\nfunction Joystick({\n  value,\n  settings,\n  onUpdate\n}) {\n  const timeout = useRef();\n  const outOfBoundsX = useRef(0);\n  const outOfBoundsY = useRef(0);\n  const stepMultiplier = useRef(1);\n  const [joystickShown, setShowJoystick] = useState(false);\n  const [isOutOfBounds, setIsOutOfBounds] = useState(false);\n  const [spanRef, set] = useTransform();\n  const joystickeRef = useRef(null);\n  const playgroundRef = useRef(null);\n  useLayoutEffect(() => {\n    if (joystickShown) {\n      const {\n        top,\n        left,\n        width,\n        height\n      } = joystickeRef.current.getBoundingClientRect();\n      playgroundRef.current.style.left = left + width / 2 + 'px';\n      playgroundRef.current.style.top = top + height / 2 + 'px';\n    }\n  }, [joystickShown]);\n  const {\n    keys: [v1, v2],\n    joystick\n  } = settings;\n  const yFactor = joystick === 'invertY' ? 1 : -1;\n  const {\n    [v1]: {\n      step: stepV1\n    },\n    [v2]: {\n      step: stepV2\n    }\n  } = settings;\n  const wpx = useTh('sizes', 'leva__joystickWidth');\n  const hpx = useTh('sizes', 'leva__joystickHeight');\n  const w = parseFloat(wpx) * 0.8 / 2;\n  const h = parseFloat(hpx) * 0.8 / 2;\n  const startOutOfBounds = useCallback(() => {\n    if (timeout.current) return;\n    setIsOutOfBounds(true);\n    if (outOfBoundsX.current) set({\n      x: outOfBoundsX.current * w\n    });\n    if (outOfBoundsY.current) set({\n      y: outOfBoundsY.current * -h\n    });\n    timeout.current = window.setInterval(() => {\n      onUpdate(v => {\n        const incX = stepV1 * outOfBoundsX.current * stepMultiplier.current;\n        const incY = yFactor * stepV2 * outOfBoundsY.current * stepMultiplier.current;\n        return Array.isArray(v) ? {\n          [v1]: v[0] + incX,\n          [v2]: v[1] + incY\n        } : {\n          [v1]: v[v1] + incX,\n          [v2]: v[v2] + incY\n        };\n      });\n    }, 16);\n  }, [w, h, onUpdate, set, stepV1, stepV2, v1, v2, yFactor]);\n  const endOutOfBounds = useCallback(() => {\n    window.clearTimeout(timeout.current);\n    timeout.current = undefined;\n    setIsOutOfBounds(false);\n  }, []);\n  useEffect(() => {\n    function setStepMultiplier(event) {\n      stepMultiplier.current = multiplyStep(event);\n    }\n    window.addEventListener('keydown', setStepMultiplier);\n    window.addEventListener('keyup', setStepMultiplier);\n    return () => {\n      window.clearTimeout(timeout.current);\n      window.removeEventListener('keydown', setStepMultiplier);\n      window.removeEventListener('keyup', setStepMultiplier);\n    };\n  }, []);\n  const bind = useDrag(({\n    first,\n    active,\n    delta: [dx, dy],\n    movement: [mx, my]\n  }) => {\n    if (first) setShowJoystick(true);\n    const _x = clamp(mx, -w, w);\n    const _y = clamp(my, -h, h);\n    outOfBoundsX.current = Math.abs(mx) > Math.abs(_x) ? Math.sign(mx - _x) : 0;\n    outOfBoundsY.current = Math.abs(my) > Math.abs(_y) ? Math.sign(_y - my) : 0;\n    let newX = value[v1];\n    let newY = value[v2];\n    if (active) {\n      if (!outOfBoundsX.current) {\n        newX += dx * stepV1 * stepMultiplier.current;\n        set({\n          x: _x\n        });\n      }\n      if (!outOfBoundsY.current) {\n        newY -= yFactor * dy * stepV2 * stepMultiplier.current;\n        set({\n          y: _y\n        });\n      }\n      if (outOfBoundsX.current || outOfBoundsY.current) startOutOfBounds();else endOutOfBounds();\n      onUpdate({\n        [v1]: newX,\n        [v2]: newY\n      });\n    } else {\n      setShowJoystick(false);\n      outOfBoundsX.current = 0;\n      outOfBoundsY.current = 0;\n      set({\n        x: 0,\n        y: 0\n      });\n      endOutOfBounds();\n    }\n  });\n  return React.createElement(JoystickTrigger, _extends({\n    ref: joystickeRef\n  }, bind()), joystickShown && React.createElement(Portal, null, React.createElement(JoystickPlayground, {\n    ref: playgroundRef,\n    isOutOfBounds: isOutOfBounds\n  }, React.createElement(\"div\", null), React.createElement(\"span\", {\n    ref: spanRef\n  }))));\n}\nconst Container$1 = styled('div', {\n  display: 'grid',\n  columnGap: '$leva__colGap',\n  variants: {\n    withJoystick: {\n      true: {\n        gridTemplateColumns: '$sizes$leva__rowHeight auto'\n      },\n      false: {\n        gridTemplateColumns: 'auto'\n      }\n    }\n  }\n});\nfunction Vector2dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container$1, {\n    withJoystick: !!settings.joystick\n  }, settings.joystick && React.createElement(Joystick, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  })));\n}\nconst plugin = getVectorPlugin(['x', 'y']);\nconst normalize$2 = _ref => {\n  let {\n      joystick = true\n    } = _ref,\n    input = _objectWithoutProperties(_ref, [\"joystick\"]);\n  const {\n    value,\n    settings\n  } = plugin.normalize(input);\n  return {\n    value,\n    settings: _objectSpread2(_objectSpread2({}, settings), {}, {\n      joystick\n    })\n  };\n};\nvar vector2d = createInternalPlugin(_objectSpread2(_objectSpread2({\n  component: Vector2dComponent\n}, plugin), {}, {\n  normalize: normalize$2\n}));\nconst sanitize$1 = v => {\n  if (v === undefined) return undefined;\n  if (v instanceof File) {\n    try {\n      return URL.createObjectURL(v);\n    } catch (e) {\n      return undefined;\n    }\n  }\n  if (typeof v === 'string' && v.indexOf('blob:') === 0) return v;\n  throw Error(`Invalid image format [undefined | blob |Â File].`);\n};\nconst schema$1 = (_o, s) => typeof s === 'object' && 'image' in s;\nconst normalize$1 = ({\n  image\n}) => {\n  return {\n    value: image\n  };\n};\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  sanitize: sanitize$1,\n  schema: schema$1,\n  normalize: normalize$1\n});\nconst ImageContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$leva__rowHeight auto 20px',\n  columnGap: '$leva__colGap',\n  alignItems: 'center'\n});\nconst DropZone = styled('div', {\n  $leva__flexCenter: '',\n  overflow: 'hidden',\n  height: '$leva__rowHeight',\n  background: '$leva__elevation3',\n  textAlign: 'center',\n  color: 'inherit',\n  borderRadius: '$leva__sm',\n  outline: 'none',\n  userSelect: 'none',\n  cursor: 'pointer',\n  $leva__inputStyle: '',\n  $leva__hover: '',\n  $leva__focusWithin: '',\n  $leva__active: '$leva__accent1 $leva__elevation1',\n  variants: {\n    isDragAccept: {\n      true: {\n        $leva__inputStyle: '$leva__accent1',\n        backgroundColor: '$leva__elevation1'\n      }\n    }\n  }\n});\nconst ImagePreview = styled('div', {\n  boxSizing: 'border-box',\n  borderRadius: '$leva__sm',\n  height: '$leva__rowHeight',\n  width: '$leva__rowHeight',\n  $leva__inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  variants: {\n    hasImage: {\n      true: {\n        cursor: 'pointer',\n        $leva__hover: '',\n        $leva__active: ''\n      }\n    }\n  }\n});\nconst ImageLargePreview = styled('div', {\n  $leva__flexCenter: '',\n  width: '$leva__imagePreviewWidth',\n  height: '$leva__imagePreviewHeight',\n  borderRadius: '$leva__sm',\n  boxShadow: '$leva__level2',\n  pointerEvents: 'none',\n  $leva__inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center'\n});\nconst Instructions = styled('div', {\n  fontSize: '0.8em',\n  height: '100%',\n  padding: '$leva__rowGap $leva__md'\n});\nconst Remove = styled('div', {\n  $leva__flexCenter: '',\n  top: '0',\n  right: '0',\n  marginRight: '$leva__sm',\n  height: '100%',\n  cursor: 'pointer',\n  variants: {\n    disabled: {\n      true: {\n        color: '$leva__elevation3',\n        cursor: 'default'\n      }\n    }\n  },\n  '&::after,&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    height: 2,\n    width: 10,\n    borderRadius: 1,\n    backgroundColor: 'currentColor'\n  },\n  '&::after': {\n    transform: 'rotate(45deg)'\n  },\n  '&::before': {\n    transform: 'rotate(-45deg)'\n  }\n});\nfunction ImageComponent() {\n  const {\n    label,\n    value,\n    onUpdate\n  } = useInputContext();\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length) onUpdate(acceptedFiles[0]);\n  }, [onUpdate]);\n  const clear = useCallback(e => {\n    e.stopPropagation();\n    onUpdate(undefined);\n  }, [onUpdate]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragAccept\n  } = useDropzone({\n    maxFiles: 1,\n    accept: 'image/*',\n    onDrop\n  });\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(ImageContainer, null, React.createElement(ImagePreview, {\n    ref: popinRef,\n    hasImage: !!value,\n    onPointerDown: () => !!value && show(),\n    onPointerUp: hide,\n    style: {\n      backgroundImage: value ? `url(${value})` : 'none'\n    }\n  }), shown && !!value && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hide,\n    style: {\n      cursor: 'pointer'\n    }\n  }), React.createElement(ImageLargePreview, {\n    ref: wrapperRef,\n    style: {\n      backgroundImage: `url(${value})`\n    }\n  })), React.createElement(DropZone, getRootProps({\n    isDragAccept\n  }), React.createElement(\"input\", getInputProps()), React.createElement(Instructions, null, isDragAccept ? 'drop image' : 'click or drop')), React.createElement(Remove, {\n    onClick: clear,\n    disabled: !value\n  })));\n}\nvar image = createInternalPlugin(_objectSpread2({\n  component: ImageComponent\n}, props$1));\nconst number = v8n().number();\nconst schema = (o, s) => v8n().array().length(2).every.number().test(o) && v8n().schema({\n  min: number,\n  max: number\n}).test(s);\nconst format = v => ({\n  min: v[0],\n  max: v[1]\n});\nconst sanitize = (value, {\n  bounds: [MIN, MAX]\n}, prevValue) => {\n  const _newValue = {\n    min: prevValue[0],\n    max: prevValue[1]\n  };\n  const {\n    min,\n    max\n  } = _objectSpread2(_objectSpread2({}, _newValue), value);\n  return [clamp(Number(min), MIN, Math.max(MIN, max)), clamp(Number(max), Math.min(MAX, min), MAX)];\n};\nconst normalize = ({\n  value,\n  min,\n  max\n}) => {\n  const boundsSettings = {\n    min,\n    max\n  };\n  const settings = normalizeKeyedNumberSettings(format(value), {\n    min: boundsSettings,\n    max: boundsSettings\n  });\n  const bounds = [min, max];\n  return {\n    value,\n    settings: _objectSpread2(_objectSpread2({}, settings), {}, {\n      bounds\n    })\n  };\n};\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  format: format,\n  sanitize: sanitize,\n  normalize: normalize\n});\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$leva__colGap',\n  gridTemplateColumns: 'auto calc($sizes$leva__numberInputMinWidth * 2 + $space$leva__rowGap)'\n});\nfunction IntervalSlider(_ref) {\n  let {\n      value,\n      bounds: [min, max],\n      onDrag\n    } = _ref,\n    settings = _objectWithoutProperties(_ref, [\"value\", \"bounds\", \"onDrag\"]);\n  const ref = useRef(null);\n  const minScrubberRef = useRef(null);\n  const maxScrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'leva__scrubberWidth');\n  const bind = useDrag(({\n    event,\n    first,\n    xy: [x],\n    movement: [mx],\n    memo: _memo = {}\n  }) => {\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === minScrubberRef.current || (event === null || event === void 0 ? void 0 : event.target) === maxScrubberRef.current;\n      _memo.pos = invertedRange((x - left) / width, min, max);\n      const delta = Math.abs(_memo.pos - value.min) - Math.abs(_memo.pos - value.max);\n      _memo.key = delta < 0 || delta === 0 && _memo.pos <= value.min ? 'min' : 'max';\n      if (targetIsScrub) _memo.pos = value[_memo.key];\n    }\n    const newValue = _memo.pos + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag({\n      [_memo.key]: sanitizeStep(newValue, settings[_memo.key])\n    });\n    return _memo;\n  });\n  const minStyle = `calc(${range(value.min, min, max)} * (100% - ${scrubberWidth}))`;\n  const maxStyle = `calc(${1 - range(value.max, min, max)} * (100% - ${scrubberWidth}))`;\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: minStyle,\n      right: maxStyle\n    }\n  })), React.createElement(Scrubber, {\n    position: \"left\",\n    ref: minScrubberRef,\n    style: {\n      left: minStyle\n    }\n  }), React.createElement(Scrubber, {\n    position: \"right\",\n    ref: maxScrubberRef,\n    style: {\n      right: maxStyle\n    }\n  }));\n}\nfunction IntervalComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  const _settings = _objectWithoutProperties(settings, [\"bounds\"]);\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container, null, React.createElement(IntervalSlider, _extends({\n    value: displayValue\n  }, settings, {\n    onDrag: onUpdate\n  })), React.createElement(Vector, {\n    value: displayValue,\n    settings: _settings,\n    onUpdate: onUpdate,\n    innerLabelTrim: 0\n  }))));\n}\nvar interval = createInternalPlugin(_objectSpread2({\n  component: IntervalComponent\n}, props));\nconst Store = function Store() {\n  const store = create(() => ({\n    data: {}\n  }));\n  this.storeId = getUid();\n  this.useStore = store;\n  const folders = {};\n  const orderedPaths = new Set();\n  this.getVisiblePaths = () => {\n    const data = this.getData();\n    const paths = Object.keys(data);\n    const hiddenFolders = [];\n    Object.entries(folders).forEach(([path, settings]) => {\n      if (settings.render && paths.some(p => p.indexOf(path) === 0) && !settings.render(this.get)) hiddenFolders.push(path + '.');\n    });\n    const visiblePaths = [];\n    orderedPaths.forEach(path => {\n      if (path in data && data[path].__refCount > 0 && hiddenFolders.every(p => path.indexOf(p) === -1) && (!data[path].render || data[path].render(this.get))) visiblePaths.push(path);\n    });\n    return visiblePaths;\n  };\n  this.setOrderedPaths = newPaths => {\n    newPaths.forEach(p => orderedPaths.add(p));\n  };\n  this.orderPaths = paths => {\n    this.setOrderedPaths(paths);\n    return paths;\n  };\n  this.disposePaths = paths => {\n    store.setState(s => {\n      const data = s.data;\n      paths.forEach(path => {\n        if (path in data) {\n          const input = data[path];\n          input.__refCount--;\n          if (input.__refCount === 0 && input.type in SpecialInputs) {\n            delete data[path];\n          }\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.dispose = () => {\n    store.setState(() => {\n      return {\n        data: {}\n      };\n    });\n  };\n  this.getFolderSettings = path => {\n    return folders[path] || {};\n  };\n  this.getData = () => {\n    return store.getState().data;\n  };\n  this.addData = (newData, override) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(newData).forEach(([path, newInputData]) => {\n        let input = data[path];\n        if (!!input) {\n          const {\n              type,\n              value\n            } = newInputData,\n            rest = _objectWithoutProperties(newInputData, [\"type\", \"value\"]);\n          if (type !== input.type) {\n            warn(LevaErrors.INPUT_TYPE_OVERRIDE, type);\n          } else {\n            if (input.__refCount === 0 || override) {\n              Object.assign(input, rest);\n            }\n            input.__refCount++;\n          }\n        } else {\n          data[path] = _objectSpread2(_objectSpread2({}, newInputData), {}, {\n            __refCount: 1\n          });\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.setValueAtPath = (path, value) => {\n    store.setState(s => {\n      const data = s.data;\n      updateInput(data[path], value, path, this);\n      return {\n        data\n      };\n    });\n  };\n  this.setSettingsAtPath = (path, settings) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].settings = _objectSpread2(_objectSpread2({}, data[path].settings), settings);\n      return {\n        data\n      };\n    });\n  };\n  this.disableInputAtPath = (path, flag) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].disabled = flag;\n      return {\n        data\n      };\n    });\n  };\n  this.set = values => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(values).forEach(([path, value]) => {\n        try {\n          updateInput(data[path], value);\n        } catch (_unused) {}\n      });\n      return {\n        data\n      };\n    });\n  };\n  this.get = path => {\n    try {\n      return this.getData()[path].value;\n    } catch (e) {\n      warn(LevaErrors.PATH_DOESNT_EXIST, path);\n    }\n  };\n  const _getDataFromSchema = (schema, rootPath, mappedPaths) => {\n    const data = {};\n    Object.entries(schema).forEach(([key, rawInput]) => {\n      if (key === '') return warn(LevaErrors.EMPTY_KEY);\n      let newPath = join(rootPath, key);\n      if (rawInput.type === SpecialInputs.FOLDER) {\n        const newData = _getDataFromSchema(rawInput.schema, newPath, mappedPaths);\n        Object.assign(data, newData);\n        if (!(newPath in folders)) folders[newPath] = rawInput.settings;\n      } else if (key in mappedPaths) {\n        warn(LevaErrors.DUPLICATE_KEYS, key, newPath, mappedPaths[key].path);\n      } else {\n        const normalizedInput = normalizeInput(rawInput, key, newPath, data);\n        if (normalizedInput) {\n          const {\n            type,\n            options,\n            input\n          } = normalizedInput;\n          const {\n              onChange\n            } = options,\n            _options = _objectWithoutProperties(options, [\"onChange\"]);\n          data[newPath] = _objectSpread2(_objectSpread2({\n            type\n          }, _options), input);\n          mappedPaths[key] = {\n            path: newPath,\n            onChange\n          };\n        } else {\n          warn(LevaErrors.UNKNOWN_INPUT, newPath, rawInput);\n        }\n      }\n    });\n    return data;\n  };\n  this.getDataFromSchema = schema => {\n    const mappedPaths = {};\n    const data = _getDataFromSchema(schema, '', mappedPaths);\n    return [data, mappedPaths];\n  };\n};\nconst levaStore = new Store();\nfunction useCreateStore() {\n  return useMemo(() => new Store(), []);\n}\nif (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\n  window.__LEVA__STORE = levaStore;\n}\nconst defaultSettings$1 = {\n  collapsed: false\n};\nfunction folder(schema, settings) {\n  return {\n    type: SpecialInputs.FOLDER,\n    schema,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$1), settings)\n  };\n}\nfunction button(onClick) {\n  return {\n    type: SpecialInputs.BUTTON,\n    onClick\n  };\n}\nfunction buttonGroup(opts) {\n  return {\n    type: SpecialInputs.BUTTON_GROUP,\n    opts\n  };\n}\nconst defaultSettings = {\n  graph: false,\n  interval: 100\n};\nfunction monitor(objectOrFn, settings) {\n  return {\n    type: SpecialInputs.MONITOR,\n    objectOrFn,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings), settings)\n  };\n}\nconst isInput = v => '__levaInput' in v;\nconst buildTree = (paths, filter) => {\n  const tree = {};\n  const _filter = filter ? filter.toLowerCase() : null;\n  paths.forEach(path => {\n    const [valueKey, folderPath] = getKeyPath(path);\n    if (!_filter || valueKey.toLowerCase().indexOf(_filter) > -1) {\n      merge(tree, folderPath, {\n        [valueKey]: {\n          __levaInput: true,\n          path\n        }\n      });\n    }\n  });\n  return tree;\n};\nfunction FolderTitle({\n  toggle,\n  toggled,\n  name\n}) {\n  return React.createElement(StyledTitle, {\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled\n  }), React.createElement(\"div\", null, name));\n}\nfunction ControlInput(_ref) {\n  let {\n      type,\n      label,\n      path,\n      valueKey,\n      value,\n      settings,\n      setValue,\n      disabled\n    } = _ref,\n    rest = _objectWithoutProperties(_ref, [\"type\", \"label\", \"path\", \"valueKey\", \"value\", \"settings\", \"setValue\", \"disabled\"]);\n  const {\n    displayValue,\n    onChange,\n    onUpdate\n  } = useInputSetters({\n    type,\n    value,\n    settings,\n    setValue\n  });\n  const Input = Plugins[type].component;\n  if (!Input) {\n    warn(LevaErrors.NO_COMPONENT_FOR_TYPE, type, path);\n    return null;\n  }\n  return React.createElement(InputContext.Provider, {\n    value: _objectSpread2({\n      key: valueKey,\n      path,\n      id: 'leva__' + path,\n      label,\n      displayValue,\n      value,\n      onChange,\n      onUpdate,\n      settings,\n      setValue,\n      disabled\n    }, rest)\n  }, React.createElement(StyledInputWrapper, {\n    disabled: disabled\n  }, React.createElement(Input, null)));\n}\nconst StyledButton = styled('button', {\n  display: 'block',\n  $leva__reset: '',\n  fontWeight: '$leva__button',\n  color: '$leva__highlight3',\n  height: '$leva__rowHeight',\n  borderStyle: 'none',\n  borderRadius: '$leva__sm',\n  backgroundColor: '$leva__accent2',\n  cursor: 'pointer',\n  $leva__hover: '$leva__accent3',\n  $leva__active: '$leva__accent3 $leva__accent1',\n  $leva__focus: ''\n});\nfunction Button({\n  onClick,\n  label\n}) {\n  return React.createElement(Row, null, React.createElement(StyledButton, {\n    onClick: () => onClick()\n  }, label));\n}\nconst StyledButtonGroup = styled('div', {\n  $leva__flex: '',\n  justifyContent: 'flex-end',\n  gap: '$leva__colGap'\n});\nconst StyledButtonGroupButton = styled('button', {\n  $leva__reset: '',\n  cursor: 'pointer',\n  borderRadius: '$leva__xs',\n  '&:hover': {\n    backgroundColor: '$leva__elevation3'\n  }\n});\nfunction ButtonGroup({\n  label,\n  opts\n}) {\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(StyledButtonGroup, null, Object.entries(opts).map(([label, onClick]) => React.createElement(StyledButtonGroupButton, {\n    key: label,\n    onClick: () => onClick()\n  }, label))));\n}\nconst Canvas = styled('canvas', {\n  height: '$leva__monitorHeight',\n  width: '100%',\n  display: 'block',\n  borderRadius: '$leva__sm'\n});\nconst POINTS = 100;\nfunction push(arr, val) {\n  arr.push(val);\n  if (arr.length > POINTS) arr.shift();\n}\nconst MonitorCanvas = forwardRef(function ({\n  initialValue\n}, ref) {\n  const accentColor = useTh('colors', 'leva__highlight3');\n  const backgroundColor = useTh('colors', 'leva__elevation2');\n  const fillColor = useTh('colors', 'leva__highlight1');\n  const [gradientTop, gradientBottom] = useMemo(() => {\n    return [tc(fillColor).setAlpha(0.4).toRgbString(), tc(fillColor).setAlpha(0.1).toRgbString()];\n  }, [fillColor]);\n  const points = useRef([initialValue]);\n  const min = useRef(initialValue);\n  const max = useRef(initialValue);\n  const raf = useRef();\n  const drawPlot = useCallback((_canvas, _ctx) => {\n    if (!_canvas) return;\n    const {\n      width,\n      height\n    } = _canvas;\n    const path = new Path2D();\n    const interval = width / POINTS;\n    const verticalPadding = height * 0.05;\n    for (let i = 0; i < points.current.length; i++) {\n      const p = range(points.current[i], min.current, max.current);\n      const x = interval * i;\n      const y = height - p * (height - verticalPadding * 2) - verticalPadding;\n      path.lineTo(x, y);\n    }\n    _ctx.clearRect(0, 0, width, height);\n    const gradientPath = new Path2D(path);\n    gradientPath.lineTo(interval * (points.current.length + 1), height);\n    gradientPath.lineTo(0, height);\n    gradientPath.lineTo(0, 0);\n    const gradient = _ctx.createLinearGradient(0, 0, 0, height);\n    gradient.addColorStop(0.0, gradientTop);\n    gradient.addColorStop(1.0, gradientBottom);\n    _ctx.fillStyle = gradient;\n    _ctx.fill(gradientPath);\n    _ctx.strokeStyle = backgroundColor;\n    _ctx.lineJoin = 'round';\n    _ctx.lineWidth = 14;\n    _ctx.stroke(path);\n    _ctx.strokeStyle = accentColor;\n    _ctx.lineWidth = 2;\n    _ctx.stroke(path);\n  }, [accentColor, backgroundColor, gradientTop, gradientBottom]);\n  const [canvas, ctx] = useCanvas2d(drawPlot);\n  useImperativeHandle(ref, () => ({\n    frame: val => {\n      if (min.current === undefined || val < min.current) min.current = val;\n      if (max.current === undefined || val > max.current) max.current = val;\n      push(points.current, val);\n      raf.current = requestAnimationFrame(() => drawPlot(canvas.current, ctx.current));\n    }\n  }), [canvas, ctx, drawPlot]);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  return React.createElement(Canvas, {\n    ref: canvas\n  });\n});\nconst parse = val => Number.isFinite(val) ? val.toPrecision(2) : val.toString();\nconst MonitorLog = forwardRef(function ({\n  initialValue\n}, ref) {\n  const [val, set] = useState(parse(initialValue));\n  useImperativeHandle(ref, () => ({\n    frame: v => set(parse(v))\n  }), []);\n  return React.createElement(\"div\", null, val);\n});\nfunction getValue(o) {\n  return typeof o === 'function' ? o() : o.current;\n}\nfunction Monitor({\n  label,\n  objectOrFn,\n  settings\n}) {\n  const ref = useRef();\n  const initialValue = useRef(getValue(objectOrFn));\n  useEffect(() => {\n    const timeout = window.setInterval(() => {\n      var _ref$current;\n      if (document.hidden) return;\n      (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.frame(getValue(objectOrFn));\n    }, settings.interval);\n    return () => window.clearInterval(timeout);\n  }, [objectOrFn, settings.interval]);\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, {\n    align: \"top\"\n  }, label), settings.graph ? React.createElement(MonitorCanvas, {\n    ref: ref,\n    initialValue: initialValue.current\n  }) : React.createElement(MonitorLog, {\n    ref: ref,\n    initialValue: initialValue.current\n  }));\n}\nconst specialComponents = {\n  [SpecialInputs.BUTTON]: Button,\n  [SpecialInputs.BUTTON_GROUP]: ButtonGroup,\n  [SpecialInputs.MONITOR]: Monitor\n};\nconst Control = React.memo(({\n  path\n}) => {\n  const [input, {\n    set,\n    setSettings,\n    disable,\n    storeId\n  }] = useInput(path);\n  if (!input) return null;\n  const {\n      type,\n      label,\n      key\n    } = input,\n    inputProps = _objectWithoutProperties(input, [\"type\", \"label\", \"key\"]);\n  if (type in SpecialInputs) {\n    const SpecialInputForType = specialComponents[type];\n    return React.createElement(SpecialInputForType, _extends({\n      label: label,\n      path: path\n    }, inputProps));\n  }\n  if (!(type in Plugins)) {\n    log(LevaErrors.UNSUPPORTED_INPUT, type, path);\n    return null;\n  }\n  return React.createElement(ControlInput, _extends({\n    key: storeId + path,\n    type: type,\n    label: label,\n    storeId: storeId,\n    path: path,\n    valueKey: key,\n    setValue: set,\n    setSettings: setSettings,\n    disable: disable\n  }, inputProps));\n});\nconst Folder = ({\n  name,\n  path,\n  tree\n}) => {\n  const store = useStoreContext();\n  const newPath = join(path, name);\n  const {\n    collapsed\n  } = store.getFolderSettings(newPath);\n  const [toggled, setToggle] = useState(!collapsed);\n  return React.createElement(StyledFolder, null, React.createElement(FolderTitle, {\n    name: name,\n    toggled: toggled,\n    toggle: () => setToggle(t => !t)\n  }), React.createElement(TreeWrapper, {\n    parent: newPath,\n    tree: tree,\n    toggled: toggled\n  }));\n};\nconst TreeWrapper = React.memo(({\n  isRoot: _isRoot = false,\n  fill: _fill = false,\n  flat: _flat = false,\n  parent,\n  tree,\n  toggled\n}) => {\n  const {\n    wrapperRef,\n    contentRef\n  } = useToggle(toggled);\n  return React.createElement(StyledWrapper, {\n    ref: wrapperRef,\n    isRoot: _isRoot,\n    fill: _fill,\n    flat: _flat\n  }, React.createElement(StyledContent, {\n    ref: contentRef,\n    isRoot: _isRoot,\n    toggled: toggled\n  }, Object.entries(tree).map(([key, value]) => isInput(value) ? React.createElement(Control, {\n    key: value.path,\n    valueKey: value.valueKey,\n    path: value.path\n  }) : React.createElement(Folder, {\n    key: key,\n    name: key,\n    path: parent,\n    tree: value\n  }))));\n});\nconst StyledRoot = styled('div', {\n  position: 'relative',\n  fontFamily: '$leva__mono',\n  fontSize: '$leva__root',\n  color: '$leva__rootText',\n  backgroundColor: '$leva__elevation1',\n  variants: {\n    fill: {\n      false: {\n        position: 'fixed',\n        top: '10px',\n        right: '10px',\n        zIndex: 1000,\n        width: '$leva__rootWidth'\n      },\n      true: {\n        position: 'relative',\n        width: '100%'\n      }\n    },\n    flat: {\n      false: {\n        borderRadius: '$leva__lg',\n        boxShadow: '$leva__level1'\n      }\n    },\n    oneLineLabels: {\n      true: {\n        [`${StyledInputRow}`]: {\n          gridTemplateColumns: 'auto',\n          gridAutoColumns: 'minmax(max-content, 1fr)',\n          gridAutoRows: 'minmax($sizes$leva__rowHeight), auto)',\n          rowGap: 0,\n          columnGap: 0,\n          marginTop: '$leva__rowGap'\n        }\n      }\n    },\n    hideTitleBar: {\n      true: {\n        $$titleBarHeight: '0px'\n      },\n      false: {\n        $$titleBarHeight: '$sizes$leva__titleBarHeight'\n      }\n    }\n  },\n  '&,*,*:after,*:before': {\n    boxSizing: 'border-box'\n  },\n  '*::selection': {\n    backgroundColor: '$leva__accent2'\n  }\n});\nconst iconWidth = 40;\nconst Icon = styled('i', {\n  $leva__flexCenter: '',\n  width: iconWidth,\n  userSelect: 'none',\n  cursor: 'pointer',\n  '> svg': {\n    fill: '$leva__highlight1',\n    transition: 'transform 350ms ease, fill 250ms ease'\n  },\n  '&:hover > svg': {\n    fill: '$leva__highlight3'\n  },\n  variants: {\n    active: {\n      true: {\n        '> svg': {\n          fill: '$leva__highlight2'\n        }\n      }\n    }\n  }\n});\nconst StyledTitleWithFilter = styled('div', {\n  display: 'flex',\n  alignItems: 'stretch',\n  justifyContent: 'space-between',\n  height: '$leva__titleBarHeight',\n  variants: {\n    mode: {\n      drag: {\n        cursor: 'grab'\n      }\n    }\n  }\n});\nconst FilterWrapper = styled('div', {\n  $leva__flex: '',\n  position: 'relative',\n  width: '100%',\n  overflow: 'hidden',\n  transition: 'height 250ms ease',\n  color: '$leva__highlight3',\n  paddingLeft: '$leva__md',\n  [`> ${Icon}`]: {\n    height: 30\n  },\n  variants: {\n    toggled: {\n      true: {\n        height: 30\n      },\n      false: {\n        height: 0\n      }\n    }\n  }\n});\nconst StyledFilterInput = styled('input', {\n  $leva__reset: '',\n  flex: 1,\n  position: 'relative',\n  height: 30,\n  width: '100%',\n  backgroundColor: 'transparent',\n  fontSize: '10px',\n  borderRadius: '$leva__root',\n  '&:focus': {},\n  '&::placeholder': {\n    color: '$leva__highlight2'\n  }\n});\nconst TitleContainer = styled('div', {\n  $leva__flexCenter: '',\n  flex: 1,\n  '> svg': {\n    fill: '$leva__highlight1'\n  },\n  color: '$leva__highlight1',\n  variants: {\n    drag: {\n      true: {\n        $leva__draggable: '',\n        '> svg': {\n          transition: 'fill 250ms ease'\n        },\n        '&:hover': {\n          color: '$leva__highlight3'\n        },\n        '&:hover > svg': {\n          fill: '$leva__highlight3'\n        }\n      }\n    },\n    filterEnabled: {\n      false: {\n        paddingRight: iconWidth\n      }\n    }\n  }\n});\nconst FilterInput = React.forwardRef(({\n  setFilter\n}, ref) => {\n  const [value, set] = useState('');\n  const debouncedOnChange = useMemo(() => debounce(setFilter, 250), [setFilter]);\n  const clear = () => {\n    setFilter('');\n    set('');\n  };\n  const _onChange = e => {\n    const v = e.currentTarget.value;\n    set(v);\n  };\n  useEffect(() => {\n    debouncedOnChange(value);\n  }, [value, debouncedOnChange]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledFilterInput, {\n    ref: ref,\n    value: value,\n    placeholder: \"[Open filter with CMD+SHIFT+L]\",\n    onPointerDown: e => e.stopPropagation(),\n    onChange: _onChange\n  }), React.createElement(Icon, {\n    onClick: () => clear(),\n    style: {\n      visibility: value ? 'visible' : 'hidden'\n    }\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"14\",\n    width: \"14\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n    clipRule: \"evenodd\"\n  }))));\n});\nfunction TitleWithFilter({\n  setFilter,\n  onDrag,\n  toggle,\n  toggled,\n  title,\n  drag,\n  filterEnabled\n}) {\n  const [filterShown, setShowFilter] = useState(false);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _inputRef$current, _inputRef$current2;\n    if (filterShown) (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();else (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.blur();\n  }, [filterShown]);\n  const bind = useDrag$1(({\n    offset: [x, y]\n  }) => onDrag({\n    x,\n    y\n  }), {\n    filterTaps: true\n  });\n  useEffect(() => {\n    const handleShortcut = event => {\n      if (event.key === 'L' && event.shiftKey && event.metaKey) {\n        setShowFilter(f => !f);\n      }\n    };\n    window.addEventListener('keydown', handleShortcut);\n    return () => window.removeEventListener('keydown', handleShortcut);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(StyledTitleWithFilter, {\n    mode: drag ? 'drag' : undefined\n  }, React.createElement(Icon, {\n    active: !toggled,\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled,\n    width: 12,\n    height: 8\n  })), React.createElement(TitleContainer, _extends({}, drag ? bind() : {}, {\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), title === undefined && drag ? React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"10\",\n    viewBox: \"0 0 28 14\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"12\",\n    r: \"2\"\n  })) : title), filterEnabled && React.createElement(Icon, {\n    active: filterShown,\n    onClick: () => setShowFilter(f => !f)\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\"\n  }, React.createElement(\"path\", {\n    d: \"M9 9a2 2 0 114 0 2 2 0 01-4 0z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z\",\n    clipRule: \"evenodd\"\n  })))), React.createElement(FilterWrapper, {\n    toggled: filterShown\n  }, React.createElement(FilterInput, {\n    ref: inputRef,\n    setFilter: setFilter\n  })));\n}\nfunction LevaRoot(_ref) {\n  let {\n      store,\n      hidden = false,\n      theme,\n      collapsed = false\n    } = _ref,\n    props = _objectWithoutProperties(_ref, [\"store\", \"hidden\", \"theme\", \"collapsed\"]);\n  const themeContext = useDeepMemo(() => mergeTheme(theme), [theme]);\n  const [toggled, setToggle] = useState(!collapsed);\n  if (!store || hidden) return null;\n  return React.createElement(ThemeContext.Provider, {\n    value: themeContext\n  }, React.createElement(LevaCore, _extends({\n    store: store\n  }, props, {\n    toggled: toggled,\n    setToggle: setToggle,\n    rootClass: themeContext.className\n  })));\n}\nconst LevaCore = React.memo(({\n  store,\n  rootClass,\n  fill: _fill = false,\n  flat: _flat = false,\n  oneLineLabels: _oneLineLabels = false,\n  titleBar: _titleBar = {\n    title: undefined,\n    drag: true,\n    filter: true\n  },\n  hideCopyButton: _hideCopyButton = false,\n  toggled,\n  setToggle\n}) => {\n  var _titleBar$drag, _titleBar$filter;\n  const paths = useVisiblePaths(store);\n  const [filter, setFilter] = useState('');\n  const tree = useMemo(() => buildTree(paths, filter), [paths, filter]);\n  const [rootRef, set] = useTransform();\n  const shouldShow = paths.length > 0;\n  const title = typeof _titleBar === \"object\" ? _titleBar.title : undefined;\n  const drag = typeof _titleBar === \"object\" ? (_titleBar$drag = _titleBar.drag) !== null && _titleBar$drag !== void 0 ? _titleBar$drag : true : true;\n  const filterEnabled = typeof _titleBar === \"object\" ? (_titleBar$filter = _titleBar.filter) !== null && _titleBar$filter !== void 0 ? _titleBar$filter : true : true;\n  return React.createElement(PanelSettingsContext.Provider, {\n    value: {\n      hideCopyButton: _hideCopyButton\n    }\n  }, React.createElement(StyledRoot, {\n    ref: rootRef,\n    className: rootClass,\n    fill: _fill,\n    flat: _flat,\n    oneLineLabels: _oneLineLabels,\n    hideTitleBar: !_titleBar,\n    style: {\n      display: shouldShow ? 'block' : 'none'\n    }\n  }, _titleBar && React.createElement(TitleWithFilter, {\n    onDrag: set,\n    setFilter: setFilter,\n    toggle: () => setToggle(t => !t),\n    toggled: toggled,\n    title: title,\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), shouldShow && React.createElement(StoreContext.Provider, {\n    value: store\n  }, React.createElement(TreeWrapper, {\n    isRoot: true,\n    fill: _fill,\n    flat: _flat,\n    tree: tree,\n    toggled: toggled\n  }))));\n});\nlet rootInitialized = false;\nlet rootEl = null;\nfunction Leva(_ref) {\n  let {\n      isRoot = false\n    } = _ref,\n    props = _objectWithoutProperties(_ref, [\"isRoot\"]);\n  useEffect(() => {\n    rootInitialized = true;\n    if (!isRoot && rootEl) {\n      rootEl.remove();\n      rootEl = null;\n    }\n    return () => {\n      if (!isRoot) rootInitialized = false;\n    };\n  }, [isRoot]);\n  return React.createElement(LevaRoot, _extends({\n    store: levaStore\n  }, props));\n}\nfunction useRenderRoot(isGlobalPanel) {\n  useEffect(() => {\n    if (isGlobalPanel && !rootInitialized) {\n      if (!rootEl) {\n        rootEl = document.getElementById('leva__root') || Object.assign(document.createElement('div'), {\n          id: 'leva__root'\n        });\n        if (document.body) {\n          document.body.appendChild(rootEl);\n          ReactDOM.render(React.createElement(Leva, {\n            isRoot: true\n          }), rootEl);\n        }\n      }\n      rootInitialized = true;\n    }\n  }, [isGlobalPanel]);\n}\nfunction LevaPanel(_ref) {\n  let {\n      store\n    } = _ref,\n    props = _objectWithoutProperties(_ref, [\"store\"]);\n  const parentStore = useStoreContext();\n  const _store = store === undefined ? parentStore : store;\n  return React.createElement(LevaRoot, _extends({\n    store: _store\n  }, props));\n}\nfunction parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  let schema;\n  let folderName = undefined;\n  let folderSettings;\n  let hookSettings;\n  let deps;\n  if (typeof schemaOrFolderName === 'string') {\n    folderName = schemaOrFolderName;\n    schema = settingsOrDepsOrSchema;\n    if (Array.isArray(depsOrSettingsOrFolderSettings)) {\n      deps = depsOrSettingsOrFolderSettings;\n    } else {\n      if (depsOrSettingsOrFolderSettings) {\n        if ('store' in depsOrSettingsOrFolderSettings) {\n          hookSettings = depsOrSettingsOrFolderSettings;\n          deps = depsOrSettings;\n        } else {\n          folderSettings = depsOrSettingsOrFolderSettings;\n          if (Array.isArray(depsOrSettings)) {\n            deps = depsOrSettings;\n          } else {\n            hookSettings = depsOrSettings;\n            deps = depsOrUndefined;\n          }\n        }\n      }\n    }\n  } else {\n    schema = schemaOrFolderName;\n    if (Array.isArray(settingsOrDepsOrSchema)) {\n      deps = settingsOrDepsOrSchema;\n    } else {\n      hookSettings = settingsOrDepsOrSchema;\n      deps = depsOrSettingsOrFolderSettings;\n    }\n  }\n  return {\n    schema,\n    folderName,\n    folderSettings,\n    hookSettings,\n    deps: deps || []\n  };\n}\nfunction useControls(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  const {\n    folderName,\n    schema,\n    folderSettings,\n    hookSettings,\n    deps\n  } = parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined);\n  const schemaIsFunction = typeof schema === 'function';\n  const depsChanged = useRef(false);\n  const firstRender = useRef(true);\n  const _schema = useDeepMemo(() => {\n    depsChanged.current = true;\n    const s = typeof schema === 'function' ? schema() : schema;\n    return folderName ? {\n      [folderName]: folder(s, folderSettings)\n    } : s;\n  }, deps);\n  const isGlobalPanel = !(hookSettings !== null && hookSettings !== void 0 && hookSettings.store);\n  useRenderRoot(isGlobalPanel);\n  const [store] = useState(() => (hookSettings === null || hookSettings === void 0 ? void 0 : hookSettings.store) || levaStore);\n  const [initialData, mappedPaths] = useMemo(() => store.getDataFromSchema(_schema), [store, _schema]);\n  const [allPaths, renderPaths, onChangePaths] = useMemo(() => {\n    const allPaths = [];\n    const renderPaths = [];\n    const onChangePaths = {};\n    Object.values(mappedPaths).forEach(({\n      path,\n      onChange\n    }) => {\n      allPaths.push(path);\n      if (!!onChange) onChangePaths[path] = onChange;else renderPaths.push(path);\n    });\n    return [allPaths, renderPaths, onChangePaths];\n  }, [mappedPaths]);\n  const paths = useMemo(() => store.orderPaths(allPaths), [allPaths, store]);\n  const values = useValuesForPath(store, renderPaths, initialData);\n  const set = useCallback(values => {\n    const _values = Object.entries(values).reduce((acc, [p, v]) => Object.assign(acc, {\n      [mappedPaths[p].path]: v\n    }), {});\n    store.set(_values);\n  }, [store, mappedPaths]);\n  useEffect(() => {\n    const shouldOverrideSettings = !firstRender.current && depsChanged.current;\n    store.addData(initialData, shouldOverrideSettings);\n    firstRender.current = false;\n    depsChanged.current = false;\n    return () => store.disposePaths(paths);\n  }, [store, paths, initialData]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onChangePaths).forEach(([path, onChange]) => {\n      onChange(store.get(path));\n      const unsub = store.useStore.subscribe(onChange, s => s.data[path].value, shallow);\n      unsubscriptions.push(unsub);\n    });\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [store, onChangePaths]);\n  if (schemaIsFunction) return [values, set];\n  return values;\n}\nregister(LevaInputs.SELECT, select);\nregister(LevaInputs.IMAGE, image);\nregister(LevaInputs.NUMBER, number$1);\nregister(LevaInputs.COLOR, color);\nregister(LevaInputs.STRING, string);\nregister(LevaInputs.BOOLEAN, boolean);\nregister(LevaInputs.INTERVAL, interval);\nregister(LevaInputs.VECTOR3D, vector3d);\nregister(LevaInputs.VECTOR2D, vector2d);\nexport { Leva, LevaPanel, button, buttonGroup, folder, levaStore, monitor, useControls, useCreateStore };","map":{"version":3,"names":["p","pick","_","_objectSpread2","o","omit","s","styled","u","useInputContext","R","Row","L","Label","V","ValueInput","P","Portal","O","Overlay","c","createInternalPlugin","a","Vector","g","getVectorPlugin","b","useTransform","d","useTh","e","useDrag","f","_extends","m","multiplyStep","h","clamp","i","_objectWithoutProperties","n","normalizeKeyedNumberSettings","j","invertedRange","k","sanitizeStep","r","range","l","RangeWrapper","q","Range","I","Indicator","S","Scrubber","t","getUid","v","SpecialInputs","w","warn","x","LevaErrors","y","updateInput","z","normalizeInput","A","StyledTitle","C","Chevron","B","useInputSetters","D","Plugins","E","InputContext","F","StyledInputWrapper","G","useCanvas2d","H","useInput","J","log","K","StyledWrapper","M","StyledContent","N","useStoreContext","Q","StyledFolder","T","StyledInputRow","U","debounce","W","PanelSettingsContext","X","StoreContext","Y","mergeTheme","Z","ThemeContext","$","register","a0","LevaInputs","a1","select","a2","number$1","a3","string","a4","boolean","a5","LevaStoreProvider","v8n","tc","dequal","React","useRef","useMemo","useLayoutEffect","useEffect","useState","useCallback","forwardRef","useImperativeHandle","RgbaColorPicker","RgbColorPicker","shallow","useDrag$1","useDropzone","create","ReactDOM","merge","join","args","filter","Boolean","getKeyPath","path","dir","split","pop","undefined","getValuesForPaths","data","paths","Object","entries","reduce","acc","value","disabled","key","useCompareMemoize","deep","ref","compare","current","useDeepMemo","fn","deps","useToggle","toggled","wrapperRef","contentRef","firstRender","style","height","overflow","timeout","fixHeight","removeProperty","scrollIntoView","behavior","block","addEventListener","once","getBoundingClientRect","window","setTimeout","removeEventListener","clearTimeout","useVisiblePaths","store","setPaths","getVisiblePaths","unsub","useStore","subscribe","useValuesForPath","initialData","init","valuesForPath","usePopin","margin","popinRef","shown","setShow","show","hide","bottom","top","left","direction","innerHeight","position","zIndex","convertMap","rgb","hsl","hsv","hex","hex8","extend","color","isValid","schema$2","test","convert","format","hasAlpha","isString","_format","toString","colorObj","sanitize$2","settings","Error","format$1","normalize$3","_f","getFormat","props$2","freeze","__proto__","schema","sanitize","normalize","ColorPreview","boxSizing","borderRadius","cursor","width","backgroundColor","backgroundImage","$leva__inputStyle","$leva__hover","variants","active","true","content","right","PickerContainer","display","gridTemplateColumns","columnGap","alignItems","PickerWrapper","boxShadow","convertToRgb","toRgb","Color","displayValue","onUpdate","timer","initialRgb","setInitialRgb","ColorPicker","showPicker","hideAfterDelay","createElement","Fragment","onClick","onPointerUp","onMouseEnter","onMouseLeave","buttons","onChange","ColorComponent","label","input","component","Vector3dComponent","vector3d","JoystickTrigger","$leva__flexCenter","$leva__draggable","JoystickPlayground","transform","isOutOfBounds","false","borderStyle","borderWidth","borderColor","zindex","Joystick","outOfBoundsX","outOfBoundsY","stepMultiplier","joystickShown","setShowJoystick","setIsOutOfBounds","spanRef","set","joystickeRef","playgroundRef","keys","v1","v2","joystick","yFactor","step","stepV1","stepV2","wpx","hpx","parseFloat","startOutOfBounds","setInterval","incX","incY","Array","isArray","endOutOfBounds","setStepMultiplier","event","bind","first","delta","dx","dy","movement","mx","my","_x","_y","Math","abs","sign","newX","newY","Container$1","withJoystick","Vector2dComponent","plugin","normalize$2","_ref","vector2d","sanitize$1","File","URL","createObjectURL","indexOf","schema$1","_o","normalize$1","image","props$1","ImageContainer","DropZone","background","textAlign","outline","userSelect","$leva__focusWithin","$leva__active","isDragAccept","ImagePreview","backgroundSize","backgroundPosition","hasImage","ImageLargePreview","pointerEvents","Instructions","fontSize","padding","Remove","marginRight","ImageComponent","onDrop","acceptedFiles","length","clear","stopPropagation","getRootProps","getInputProps","maxFiles","accept","onPointerDown","number","array","every","min","max","bounds","MIN","MAX","prevValue","_newValue","Number","boundsSettings","props","Container","IntervalSlider","onDrag","minScrubberRef","maxScrubberRef","rangeWidth","scrubberWidth","xy","memo","_memo","targetIsScrub","target","pos","newValue","minStyle","maxStyle","IntervalComponent","_settings","innerLabelTrim","interval","Store","storeId","folders","orderedPaths","Set","getData","hiddenFolders","forEach","render","some","get","push","visiblePaths","__refCount","setOrderedPaths","newPaths","add","orderPaths","disposePaths","setState","type","dispose","getFolderSettings","getState","addData","newData","override","newInputData","rest","INPUT_TYPE_OVERRIDE","assign","setValueAtPath","setSettingsAtPath","disableInputAtPath","flag","values","_unused","PATH_DOESNT_EXIST","_getDataFromSchema","rootPath","mappedPaths","rawInput","EMPTY_KEY","newPath","FOLDER","DUPLICATE_KEYS","normalizedInput","options","_options","UNKNOWN_INPUT","getDataFromSchema","levaStore","useCreateStore","process","env","NODE_ENV","__LEVA__STORE","defaultSettings$1","collapsed","folder","button","BUTTON","buttonGroup","opts","BUTTON_GROUP","defaultSettings","graph","monitor","objectOrFn","MONITOR","isInput","buildTree","tree","_filter","toLowerCase","valueKey","folderPath","__levaInput","FolderTitle","toggle","name","ControlInput","setValue","Input","NO_COMPONENT_FOR_TYPE","Provider","id","StyledButton","$leva__reset","fontWeight","$leva__focus","Button","StyledButtonGroup","$leva__flex","justifyContent","gap","StyledButtonGroupButton","ButtonGroup","map","Canvas","POINTS","arr","val","shift","MonitorCanvas","initialValue","accentColor","fillColor","gradientTop","gradientBottom","setAlpha","toRgbString","points","raf","drawPlot","_canvas","_ctx","Path2D","verticalPadding","lineTo","clearRect","gradientPath","gradient","createLinearGradient","addColorStop","fillStyle","fill","strokeStyle","lineJoin","lineWidth","stroke","canvas","ctx","frame","requestAnimationFrame","cancelAnimationFrame","parse","isFinite","toPrecision","MonitorLog","getValue","Monitor","_ref$current","document","hidden","clearInterval","align","specialComponents","Control","setSettings","disable","inputProps","SpecialInputForType","UNSUPPORTED_INPUT","Folder","setToggle","TreeWrapper","parent","isRoot","_isRoot","_fill","flat","_flat","StyledRoot","fontFamily","oneLineLabels","gridAutoColumns","gridAutoRows","rowGap","marginTop","hideTitleBar","$$titleBarHeight","iconWidth","Icon","transition","StyledTitleWithFilter","mode","drag","FilterWrapper","paddingLeft","StyledFilterInput","flex","TitleContainer","filterEnabled","paddingRight","FilterInput","setFilter","debouncedOnChange","_onChange","currentTarget","placeholder","visibility","xmlns","viewBox","fillRule","clipRule","TitleWithFilter","title","filterShown","setShowFilter","inputRef","_inputRef$current","_inputRef$current2","focus","blur","offset","filterTaps","handleShortcut","shiftKey","metaKey","cx","cy","LevaRoot","theme","themeContext","LevaCore","rootClass","className","_oneLineLabels","titleBar","_titleBar","hideCopyButton","_hideCopyButton","_titleBar$drag","_titleBar$filter","rootRef","shouldShow","rootInitialized","rootEl","Leva","remove","useRenderRoot","isGlobalPanel","getElementById","body","appendChild","LevaPanel","parentStore","_store","parseArgs","schemaOrFolderName","settingsOrDepsOrSchema","depsOrSettingsOrFolderSettings","depsOrSettings","depsOrUndefined","folderName","folderSettings","hookSettings","useControls","schemaIsFunction","depsChanged","_schema","allPaths","renderPaths","onChangePaths","_values","shouldOverrideSettings","unsubscriptions","SELECT","IMAGE","NUMBER","COLOR","STRING","BOOLEAN","INTERVAL","VECTOR3D","VECTOR2D"],"sources":["/Users/mitchelleva/projects/me8porty/m8magic/node_modules/leva/dist/leva.esm.js"],"sourcesContent":["import { p as pick, _ as _objectSpread2, o as omit, s as styled, u as useInputContext, R as Row, L as Label, V as ValueInput, P as Portal, O as Overlay, c as createInternalPlugin, a as Vector, g as getVectorPlugin, b as useTransform, d as useTh, e as useDrag, f as _extends, m as multiplyStep, h as clamp, i as _objectWithoutProperties, n as normalizeKeyedNumberSettings, j as invertedRange, k as sanitizeStep, r as range, l as RangeWrapper, q as Range, I as Indicator, S as Scrubber, t as getUid, v as SpecialInputs, w as warn, x as LevaErrors, y as updateInput, z as normalizeInput, A as StyledTitle, C as Chevron, B as useInputSetters, D as Plugins, E as InputContext, F as StyledInputWrapper, G as useCanvas2d, H as useInput, J as log, K as StyledWrapper, M as StyledContent, N as useStoreContext, Q as StyledFolder, T as StyledInputRow, U as debounce, W as PanelSettingsContext, X as StoreContext, Y as mergeTheme, Z as ThemeContext, $ as register, a0 as LevaInputs, a1 as select, a2 as number$1, a3 as string, a4 as boolean } from './vector-plugin-30dc83ff.esm.js';\nexport { a5 as LevaStoreProvider, N as useStoreContext } from './vector-plugin-30dc83ff.esm.js';\nimport v8n from 'v8n';\nimport tc from 'tinycolor2';\nimport { dequal } from 'dequal/lite';\nimport React, { useRef, useMemo, useLayoutEffect, useEffect, useState, useCallback, forwardRef, useImperativeHandle } from 'react';\nimport { RgbaColorPicker, RgbColorPicker } from 'react-colorful';\nimport shallow from 'zustand/shallow';\nimport { useDrag as useDrag$1 } from 'react-use-gesture';\nimport '@radix-ui/react-portal';\nimport '@radix-ui/react-tooltip';\nimport { useDropzone } from 'react-dropzone';\nimport create from 'zustand';\nimport ReactDOM from 'react-dom';\nimport merge from 'merge-value';\nimport '@stitches/react';\n\nconst join = (...args) => args.filter(Boolean).join('.');\nfunction getKeyPath(path) {\n  const dir = path.split('.');\n  return [dir.pop(), dir.join('.') || undefined];\n}\n\nfunction getValuesForPaths(data, paths) {\n  return Object.entries(pick(data, paths)).reduce((acc, [, {\n    value,\n    disabled,\n    key\n  }]) => {\n    acc[key] = disabled ? undefined : value;\n    return acc;\n  }, {});\n}\n\nfunction useCompareMemoize(value, deep) {\n  const ref = useRef();\n  const compare = deep ? dequal : shallow;\n\n  if (!compare(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n\nfunction useDeepMemo(fn, deps) {\n  return useMemo(fn, useCompareMemoize(deps, true));\n}\n\nfunction useToggle(toggled) {\n  const wrapperRef = useRef(null);\n  const contentRef = useRef(null);\n  const firstRender = useRef(true);\n  useLayoutEffect(() => {\n    if (!toggled) {\n      wrapperRef.current.style.height = '0px';\n      wrapperRef.current.style.overflow = 'hidden';\n    }\n  }, []);\n  useEffect(() => {\n    if (firstRender.current) {\n      firstRender.current = false;\n      return;\n    }\n\n    let timeout;\n    const ref = wrapperRef.current;\n\n    const fixHeight = () => {\n      if (toggled) {\n        ref.style.removeProperty('height');\n        ref.style.removeProperty('overflow');\n        contentRef.current.scrollIntoView({\n          behavior: 'smooth',\n          block: 'nearest'\n        });\n      }\n    };\n\n    ref.addEventListener('transitionend', fixHeight, {\n      once: true\n    });\n    const {\n      height\n    } = contentRef.current.getBoundingClientRect();\n    ref.style.height = height + 'px';\n\n    if (!toggled) {\n      ref.style.overflow = 'hidden';\n      timeout = window.setTimeout(() => ref.style.height = '0px', 50);\n    }\n\n    return () => {\n      ref.removeEventListener('transitionend', fixHeight);\n      clearTimeout(timeout);\n    };\n  }, [toggled]);\n  return {\n    wrapperRef,\n    contentRef\n  };\n}\n\nconst useVisiblePaths = store => {\n  const [paths, setPaths] = useState(store.getVisiblePaths());\n  useEffect(() => {\n    setPaths(store.getVisiblePaths());\n    const unsub = store.useStore.subscribe(setPaths, store.getVisiblePaths, shallow);\n    return () => unsub();\n  }, [store]);\n  return paths;\n};\n\nfunction useValuesForPath(store, paths, initialData) {\n  const init = useRef(true);\n  const valuesForPath = store.useStore(s => {\n    const data = init.current ? initialData : s.data;\n    return getValuesForPaths(data, paths);\n  }, shallow);\n  init.current = false;\n  return valuesForPath;\n}\n\nfunction usePopin(margin = 3) {\n  const popinRef = useRef(null);\n  const wrapperRef = useRef(null);\n  const [shown, setShow] = useState(false);\n  const show = useCallback(() => setShow(true), []);\n  const hide = useCallback(() => setShow(false), []);\n  useLayoutEffect(() => {\n    if (shown) {\n      const {\n        bottom,\n        top,\n        left\n      } = popinRef.current.getBoundingClientRect();\n      const {\n        height\n      } = wrapperRef.current.getBoundingClientRect();\n      const direction = bottom + height > window.innerHeight - 40 ? 'up' : 'down';\n      wrapperRef.current.style.position = 'fixed';\n      wrapperRef.current.style.zIndex = '10000';\n      wrapperRef.current.style.left = left + 'px';\n      if (direction === 'down') wrapperRef.current.style.top = bottom + margin + 'px';else wrapperRef.current.style.bottom = window.innerHeight - top + margin + 'px';\n    }\n  }, [margin, shown]);\n  return {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  };\n}\n\nconst convertMap = {\n  rgb: 'toRgb',\n  hsl: 'toHsl',\n  hsv: 'toHsv',\n  hex: 'toHexString',\n  hex8: 'toHex8String'\n};\nv8n.extend({\n  color: () => value => tc(value).isValid()\n});\nconst schema$2 = o => v8n().color().test(o);\n\nfunction convert(color, {\n  format,\n  hasAlpha,\n  isString\n}) {\n  const _format = format === 'hex' && hasAlpha ? 'hex8' : format;\n\n  if (isString) return color.toString(_format);\n\n  const colorObj = color[convertMap[_format]]();\n\n  return hasAlpha ? colorObj : omit(colorObj, ['a']);\n}\n\nconst sanitize$2 = (v, settings) => {\n  const color = tc(v);\n  if (!color.isValid()) throw Error('Invalid color');\n  return convert(color, settings);\n};\nconst format$1 = (v, settings) => {\n  return convert(tc(v), _objectSpread2(_objectSpread2({}, settings), {}, {\n    isString: true,\n    format: 'hex'\n  }));\n};\nconst normalize$3 = ({\n  value\n}) => {\n  const color = tc(value);\n\n  const _f = color.getFormat();\n\n  const format = _f === 'name' || _f === 'hex8' ? 'hex' : _f;\n  const hasAlpha = typeof value === 'object' ? 'a' in value : _f === 'hex8' || /^(rgba)|(hsla)|(hsva)/.test(value);\n  const settings = {\n    format,\n    hasAlpha,\n    isString: typeof value === 'string'\n  };\n  return {\n    value: sanitize$2(value, settings),\n    settings\n  };\n};\n\nvar props$2 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema$2,\n  sanitize: sanitize$2,\n  format: format$1,\n  normalize: normalize$3\n});\n\nconst ColorPreview = styled('div', {\n  position: 'relative',\n  boxSizing: 'border-box',\n  borderRadius: '$leva__sm',\n  overflow: 'hidden',\n  cursor: 'pointer',\n  height: '$leva__rowHeight',\n  width: '$leva__rowHeight',\n  backgroundColor: '#fff',\n  backgroundImage: `url('data:image/svg+xml;charset=utf-8,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill-opacity=\".05\"><path d=\"M8 0h8v8H8zM0 8h8v8H0z\"/></svg>')`,\n  $leva__inputStyle: '',\n  $leva__hover: '',\n  zIndex: 1,\n  variants: {\n    active: {\n      true: {\n        $leva__inputStyle: '$leva__accent1'\n      }\n    }\n  },\n  '&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    top: 0,\n    bottom: 0,\n    right: 0,\n    left: 0,\n    backgroundColor: 'currentColor',\n    zIndex: 1\n  }\n});\nconst PickerContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$leva__rowHeight auto',\n  columnGap: '$leva__colGap',\n  alignItems: 'center'\n});\nconst PickerWrapper = styled('div', {\n  width: '$leva__colorPickerWidth',\n  height: '$leva__colorPickerHeight',\n  '.react-colorful': {\n    width: '100%',\n    height: '100%',\n    boxShadow: '$leva__level2',\n    cursor: 'crosshair'\n  },\n  '.react-colorful__saturation': {\n    borderRadius: '$leva__sm $leva__sm 0 0'\n  },\n  '.react-colorful__alpha, .react-colorful__hue': {\n    height: 10\n  },\n  '.react-colorful__last-control': {\n    borderRadius: '0 0 $leva__sm $leva__sm'\n  },\n  '.react-colorful__pointer': {\n    height: 12,\n    width: 12\n  }\n});\n\nfunction convertToRgb(value, format) {\n  return format !== 'rgb' ? tc(value).toRgb() : value;\n}\n\nfunction Color({\n  value,\n  displayValue,\n  settings,\n  onUpdate\n}) {\n  const {\n    format,\n    hasAlpha\n  } = settings;\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const timer = useRef(0);\n  const [initialRgb, setInitialRgb] = useState(() => convertToRgb(value, format));\n  const ColorPicker = hasAlpha ? RgbaColorPicker : RgbColorPicker;\n\n  const showPicker = () => {\n    setInitialRgb(convertToRgb(value, format));\n    show();\n  };\n\n  const hideAfterDelay = () => {\n    timer.current = window.setTimeout(hide, 500);\n  };\n\n  return React.createElement(React.Fragment, null, React.createElement(ColorPreview, {\n    ref: popinRef,\n    active: shown,\n    onClick: () => showPicker(),\n    style: {\n      color: displayValue\n    }\n  }), shown && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hide\n  }), React.createElement(PickerWrapper, {\n    ref: wrapperRef,\n    onMouseEnter: () => window.clearTimeout(timer.current),\n    onMouseLeave: e => e.buttons === 0 && hideAfterDelay()\n  }, React.createElement(ColorPicker, {\n    color: initialRgb,\n    onChange: onUpdate\n  }))));\n}\nfunction ColorComponent() {\n  const {\n    value,\n    displayValue,\n    label,\n    onChange,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(PickerContainer, null, React.createElement(Color, {\n    value: value,\n    displayValue: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate,\n    settings: settings\n  }), React.createElement(ValueInput, {\n    value: displayValue,\n    onChange: onChange,\n    onUpdate: onUpdate\n  })));\n}\n\nvar color = createInternalPlugin(_objectSpread2({\n  component: ColorComponent\n}, props$2));\n\nfunction Vector3dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }));\n}\n\nvar vector3d = createInternalPlugin(_objectSpread2({\n  component: Vector3dComponent\n}, getVectorPlugin(['x', 'y', 'z'])));\n\nconst JoystickTrigger = styled('div', {\n  $leva__flexCenter: '',\n  position: 'relative',\n  backgroundColor: '$leva__elevation3',\n  borderRadius: '$leva__sm',\n  cursor: 'pointer',\n  height: '$leva__rowHeight',\n  width: '$leva__rowHeight',\n  $leva__draggable: '',\n  $leva__hover: '',\n  '&:active': {\n    cursor: 'none'\n  },\n  '&::after': {\n    content: '\"\"',\n    backgroundColor: '$leva__accent2',\n    height: 4,\n    width: 4,\n    borderRadius: 2\n  }\n});\nconst JoystickPlayground = styled('div', {\n  $leva__flexCenter: '',\n  width: '$leva__joystickWidth',\n  height: '$leva__joystickHeight',\n  borderRadius: '$leva__sm',\n  boxShadow: '$leva__level2',\n  position: 'fixed',\n  zIndex: 10000,\n  overflow: 'hidden',\n  $leva__draggable: '',\n  transform: 'translate(-50%, -50%)',\n  variants: {\n    isOutOfBounds: {\n      true: {\n        backgroundColor: '$leva__elevation1'\n      },\n      false: {\n        backgroundColor: '$leva__elevation3'\n      }\n    }\n  },\n  '> div': {\n    position: 'absolute',\n    $leva__flexCenter: '',\n    borderStyle: 'solid',\n    borderWidth: 1,\n    borderColor: '$leva__highlight1',\n    backgroundColor: '$leva__elevation3',\n    width: '80%',\n    height: '80%',\n    '&::after,&::before': {\n      content: '\"\"',\n      position: 'absolute',\n      zindex: 10,\n      backgroundColor: '$leva__highlight1'\n    },\n    '&::before': {\n      width: '100%',\n      height: 1\n    },\n    '&::after': {\n      height: '100%',\n      width: 1\n    }\n  },\n  '> span': {\n    position: 'relative',\n    zindex: 100,\n    width: 10,\n    height: 10,\n    backgroundColor: '$leva__accent2',\n    borderRadius: '50%'\n  }\n});\n\nfunction Joystick({\n  value,\n  settings,\n  onUpdate\n}) {\n  const timeout = useRef();\n  const outOfBoundsX = useRef(0);\n  const outOfBoundsY = useRef(0);\n  const stepMultiplier = useRef(1);\n  const [joystickShown, setShowJoystick] = useState(false);\n  const [isOutOfBounds, setIsOutOfBounds] = useState(false);\n  const [spanRef, set] = useTransform();\n  const joystickeRef = useRef(null);\n  const playgroundRef = useRef(null);\n  useLayoutEffect(() => {\n    if (joystickShown) {\n      const {\n        top,\n        left,\n        width,\n        height\n      } = joystickeRef.current.getBoundingClientRect();\n      playgroundRef.current.style.left = left + width / 2 + 'px';\n      playgroundRef.current.style.top = top + height / 2 + 'px';\n    }\n  }, [joystickShown]);\n  const {\n    keys: [v1, v2],\n    joystick\n  } = settings;\n  const yFactor = joystick === 'invertY' ? 1 : -1;\n  const {\n    [v1]: {\n      step: stepV1\n    },\n    [v2]: {\n      step: stepV2\n    }\n  } = settings;\n  const wpx = useTh('sizes', 'leva__joystickWidth');\n  const hpx = useTh('sizes', 'leva__joystickHeight');\n  const w = parseFloat(wpx) * 0.8 / 2;\n  const h = parseFloat(hpx) * 0.8 / 2;\n  const startOutOfBounds = useCallback(() => {\n    if (timeout.current) return;\n    setIsOutOfBounds(true);\n    if (outOfBoundsX.current) set({\n      x: outOfBoundsX.current * w\n    });\n    if (outOfBoundsY.current) set({\n      y: outOfBoundsY.current * -h\n    });\n    timeout.current = window.setInterval(() => {\n      onUpdate(v => {\n        const incX = stepV1 * outOfBoundsX.current * stepMultiplier.current;\n        const incY = yFactor * stepV2 * outOfBoundsY.current * stepMultiplier.current;\n        return Array.isArray(v) ? {\n          [v1]: v[0] + incX,\n          [v2]: v[1] + incY\n        } : {\n          [v1]: v[v1] + incX,\n          [v2]: v[v2] + incY\n        };\n      });\n    }, 16);\n  }, [w, h, onUpdate, set, stepV1, stepV2, v1, v2, yFactor]);\n  const endOutOfBounds = useCallback(() => {\n    window.clearTimeout(timeout.current);\n    timeout.current = undefined;\n    setIsOutOfBounds(false);\n  }, []);\n  useEffect(() => {\n    function setStepMultiplier(event) {\n      stepMultiplier.current = multiplyStep(event);\n    }\n\n    window.addEventListener('keydown', setStepMultiplier);\n    window.addEventListener('keyup', setStepMultiplier);\n    return () => {\n      window.clearTimeout(timeout.current);\n      window.removeEventListener('keydown', setStepMultiplier);\n      window.removeEventListener('keyup', setStepMultiplier);\n    };\n  }, []);\n  const bind = useDrag(({\n    first,\n    active,\n    delta: [dx, dy],\n    movement: [mx, my]\n  }) => {\n    if (first) setShowJoystick(true);\n\n    const _x = clamp(mx, -w, w);\n\n    const _y = clamp(my, -h, h);\n\n    outOfBoundsX.current = Math.abs(mx) > Math.abs(_x) ? Math.sign(mx - _x) : 0;\n    outOfBoundsY.current = Math.abs(my) > Math.abs(_y) ? Math.sign(_y - my) : 0;\n    let newX = value[v1];\n    let newY = value[v2];\n\n    if (active) {\n      if (!outOfBoundsX.current) {\n        newX += dx * stepV1 * stepMultiplier.current;\n        set({\n          x: _x\n        });\n      }\n\n      if (!outOfBoundsY.current) {\n        newY -= yFactor * dy * stepV2 * stepMultiplier.current;\n        set({\n          y: _y\n        });\n      }\n\n      if (outOfBoundsX.current || outOfBoundsY.current) startOutOfBounds();else endOutOfBounds();\n      onUpdate({\n        [v1]: newX,\n        [v2]: newY\n      });\n    } else {\n      setShowJoystick(false);\n      outOfBoundsX.current = 0;\n      outOfBoundsY.current = 0;\n      set({\n        x: 0,\n        y: 0\n      });\n      endOutOfBounds();\n    }\n  });\n  return React.createElement(JoystickTrigger, _extends({\n    ref: joystickeRef\n  }, bind()), joystickShown && React.createElement(Portal, null, React.createElement(JoystickPlayground, {\n    ref: playgroundRef,\n    isOutOfBounds: isOutOfBounds\n  }, React.createElement(\"div\", null), React.createElement(\"span\", {\n    ref: spanRef\n  }))));\n}\n\nconst Container$1 = styled('div', {\n  display: 'grid',\n  columnGap: '$leva__colGap',\n  variants: {\n    withJoystick: {\n      true: {\n        gridTemplateColumns: '$sizes$leva__rowHeight auto'\n      },\n      false: {\n        gridTemplateColumns: 'auto'\n      }\n    }\n  }\n});\nfunction Vector2dComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container$1, {\n    withJoystick: !!settings.joystick\n  }, settings.joystick && React.createElement(Joystick, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  }), React.createElement(Vector, {\n    value: displayValue,\n    settings: settings,\n    onUpdate: onUpdate\n  })));\n}\n\nconst plugin = getVectorPlugin(['x', 'y']);\n\nconst normalize$2 = (_ref) => {\n  let {\n    joystick = true\n  } = _ref,\n      input = _objectWithoutProperties(_ref, [\"joystick\"]);\n\n  const {\n    value,\n    settings\n  } = plugin.normalize(input);\n  return {\n    value,\n    settings: _objectSpread2(_objectSpread2({}, settings), {}, {\n      joystick\n    })\n  };\n};\n\nvar vector2d = createInternalPlugin(_objectSpread2(_objectSpread2({\n  component: Vector2dComponent\n}, plugin), {}, {\n  normalize: normalize$2\n}));\n\nconst sanitize$1 = v => {\n  if (v === undefined) return undefined;\n\n  if (v instanceof File) {\n    try {\n      return URL.createObjectURL(v);\n    } catch (e) {\n      return undefined;\n    }\n  }\n\n  if (typeof v === 'string' && v.indexOf('blob:') === 0) return v;\n  throw Error(`Invalid image format [undefined | blob |Â File].`);\n};\nconst schema$1 = (_o, s) => typeof s === 'object' && 'image' in s;\nconst normalize$1 = ({\n  image\n}) => {\n  return {\n    value: image\n  };\n};\n\nvar props$1 = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  sanitize: sanitize$1,\n  schema: schema$1,\n  normalize: normalize$1\n});\n\nconst ImageContainer = styled('div', {\n  position: 'relative',\n  display: 'grid',\n  gridTemplateColumns: '$sizes$leva__rowHeight auto 20px',\n  columnGap: '$leva__colGap',\n  alignItems: 'center'\n});\nconst DropZone = styled('div', {\n  $leva__flexCenter: '',\n  overflow: 'hidden',\n  height: '$leva__rowHeight',\n  background: '$leva__elevation3',\n  textAlign: 'center',\n  color: 'inherit',\n  borderRadius: '$leva__sm',\n  outline: 'none',\n  userSelect: 'none',\n  cursor: 'pointer',\n  $leva__inputStyle: '',\n  $leva__hover: '',\n  $leva__focusWithin: '',\n  $leva__active: '$leva__accent1 $leva__elevation1',\n  variants: {\n    isDragAccept: {\n      true: {\n        $leva__inputStyle: '$leva__accent1',\n        backgroundColor: '$leva__elevation1'\n      }\n    }\n  }\n});\nconst ImagePreview = styled('div', {\n  boxSizing: 'border-box',\n  borderRadius: '$leva__sm',\n  height: '$leva__rowHeight',\n  width: '$leva__rowHeight',\n  $leva__inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center',\n  variants: {\n    hasImage: {\n      true: {\n        cursor: 'pointer',\n        $leva__hover: '',\n        $leva__active: ''\n      }\n    }\n  }\n});\nconst ImageLargePreview = styled('div', {\n  $leva__flexCenter: '',\n  width: '$leva__imagePreviewWidth',\n  height: '$leva__imagePreviewHeight',\n  borderRadius: '$leva__sm',\n  boxShadow: '$leva__level2',\n  pointerEvents: 'none',\n  $leva__inputStyle: '',\n  backgroundSize: 'cover',\n  backgroundPosition: 'center'\n});\nconst Instructions = styled('div', {\n  fontSize: '0.8em',\n  height: '100%',\n  padding: '$leva__rowGap $leva__md'\n});\nconst Remove = styled('div', {\n  $leva__flexCenter: '',\n  top: '0',\n  right: '0',\n  marginRight: '$leva__sm',\n  height: '100%',\n  cursor: 'pointer',\n  variants: {\n    disabled: {\n      true: {\n        color: '$leva__elevation3',\n        cursor: 'default'\n      }\n    }\n  },\n  '&::after,&::before': {\n    content: '\"\"',\n    position: 'absolute',\n    height: 2,\n    width: 10,\n    borderRadius: 1,\n    backgroundColor: 'currentColor'\n  },\n  '&::after': {\n    transform: 'rotate(45deg)'\n  },\n  '&::before': {\n    transform: 'rotate(-45deg)'\n  }\n});\n\nfunction ImageComponent() {\n  const {\n    label,\n    value,\n    onUpdate\n  } = useInputContext();\n  const {\n    popinRef,\n    wrapperRef,\n    shown,\n    show,\n    hide\n  } = usePopin();\n  const onDrop = useCallback(acceptedFiles => {\n    if (acceptedFiles.length) onUpdate(acceptedFiles[0]);\n  }, [onUpdate]);\n  const clear = useCallback(e => {\n    e.stopPropagation();\n    onUpdate(undefined);\n  }, [onUpdate]);\n  const {\n    getRootProps,\n    getInputProps,\n    isDragAccept\n  } = useDropzone({\n    maxFiles: 1,\n    accept: 'image/*',\n    onDrop\n  });\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(ImageContainer, null, React.createElement(ImagePreview, {\n    ref: popinRef,\n    hasImage: !!value,\n    onPointerDown: () => !!value && show(),\n    onPointerUp: hide,\n    style: {\n      backgroundImage: value ? `url(${value})` : 'none'\n    }\n  }), shown && !!value && React.createElement(Portal, null, React.createElement(Overlay, {\n    onPointerUp: hide,\n    style: {\n      cursor: 'pointer'\n    }\n  }), React.createElement(ImageLargePreview, {\n    ref: wrapperRef,\n    style: {\n      backgroundImage: `url(${value})`\n    }\n  })), React.createElement(DropZone, getRootProps({\n    isDragAccept\n  }), React.createElement(\"input\", getInputProps()), React.createElement(Instructions, null, isDragAccept ? 'drop image' : 'click or drop')), React.createElement(Remove, {\n    onClick: clear,\n    disabled: !value\n  })));\n}\n\nvar image = createInternalPlugin(_objectSpread2({\n  component: ImageComponent\n}, props$1));\n\nconst number = v8n().number();\nconst schema = (o, s) => v8n().array().length(2).every.number().test(o) && v8n().schema({\n  min: number,\n  max: number\n}).test(s);\nconst format = v => ({\n  min: v[0],\n  max: v[1]\n});\nconst sanitize = (value, {\n  bounds: [MIN, MAX]\n}, prevValue) => {\n  const _newValue = {\n    min: prevValue[0],\n    max: prevValue[1]\n  };\n\n  const {\n    min,\n    max\n  } = _objectSpread2(_objectSpread2({}, _newValue), value);\n\n  return [clamp(Number(min), MIN, Math.max(MIN, max)), clamp(Number(max), Math.min(MAX, min), MAX)];\n};\nconst normalize = ({\n  value,\n  min,\n  max\n}) => {\n  const boundsSettings = {\n    min,\n    max\n  };\n  const settings = normalizeKeyedNumberSettings(format(value), {\n    min: boundsSettings,\n    max: boundsSettings\n  });\n  const bounds = [min, max];\n  return {\n    value,\n    settings: _objectSpread2(_objectSpread2({}, settings), {}, {\n      bounds\n    })\n  };\n};\n\nvar props = /*#__PURE__*/Object.freeze({\n  __proto__: null,\n  schema: schema,\n  format: format,\n  sanitize: sanitize,\n  normalize: normalize\n});\n\nconst Container = styled('div', {\n  display: 'grid',\n  columnGap: '$leva__colGap',\n  gridTemplateColumns: 'auto calc($sizes$leva__numberInputMinWidth * 2 + $space$leva__rowGap)'\n});\n\nfunction IntervalSlider(_ref) {\n  let {\n    value,\n    bounds: [min, max],\n    onDrag\n  } = _ref,\n      settings = _objectWithoutProperties(_ref, [\"value\", \"bounds\", \"onDrag\"]);\n\n  const ref = useRef(null);\n  const minScrubberRef = useRef(null);\n  const maxScrubberRef = useRef(null);\n  const rangeWidth = useRef(0);\n  const scrubberWidth = useTh('sizes', 'leva__scrubberWidth');\n  const bind = useDrag(({\n    event,\n    first,\n    xy: [x],\n    movement: [mx],\n    memo: _memo = {}\n  }) => {\n    if (first) {\n      const {\n        width,\n        left\n      } = ref.current.getBoundingClientRect();\n      rangeWidth.current = width - parseFloat(scrubberWidth);\n      const targetIsScrub = (event === null || event === void 0 ? void 0 : event.target) === minScrubberRef.current || (event === null || event === void 0 ? void 0 : event.target) === maxScrubberRef.current;\n      _memo.pos = invertedRange((x - left) / width, min, max);\n      const delta = Math.abs(_memo.pos - value.min) - Math.abs(_memo.pos - value.max);\n      _memo.key = delta < 0 || delta === 0 && _memo.pos <= value.min ? 'min' : 'max';\n      if (targetIsScrub) _memo.pos = value[_memo.key];\n    }\n\n    const newValue = _memo.pos + invertedRange(mx / rangeWidth.current, 0, max - min);\n    onDrag({\n      [_memo.key]: sanitizeStep(newValue, settings[_memo.key])\n    });\n    return _memo;\n  });\n  const minStyle = `calc(${range(value.min, min, max)} * (100% - ${scrubberWidth}))`;\n  const maxStyle = `calc(${1 - range(value.max, min, max)} * (100% - ${scrubberWidth}))`;\n  return React.createElement(RangeWrapper, _extends({\n    ref: ref\n  }, bind()), React.createElement(Range, null, React.createElement(Indicator, {\n    style: {\n      left: minStyle,\n      right: maxStyle\n    }\n  })), React.createElement(Scrubber, {\n    position: \"left\",\n    ref: minScrubberRef,\n    style: {\n      left: minStyle\n    }\n  }), React.createElement(Scrubber, {\n    position: \"right\",\n    ref: maxScrubberRef,\n    style: {\n      right: maxStyle\n    }\n  }));\n}\n\nfunction IntervalComponent() {\n  const {\n    label,\n    displayValue,\n    onUpdate,\n    settings\n  } = useInputContext();\n\n  const _settings = _objectWithoutProperties(settings, [\"bounds\"]);\n\n  return React.createElement(React.Fragment, null, React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(Container, null, React.createElement(IntervalSlider, _extends({\n    value: displayValue\n  }, settings, {\n    onDrag: onUpdate\n  })), React.createElement(Vector, {\n    value: displayValue,\n    settings: _settings,\n    onUpdate: onUpdate,\n    innerLabelTrim: 0\n  }))));\n}\n\nvar interval = createInternalPlugin(_objectSpread2({\n  component: IntervalComponent\n}, props));\n\nconst Store = function Store() {\n  const store = create(() => ({\n    data: {}\n  }));\n  this.storeId = getUid();\n  this.useStore = store;\n  const folders = {};\n  const orderedPaths = new Set();\n\n  this.getVisiblePaths = () => {\n    const data = this.getData();\n    const paths = Object.keys(data);\n    const hiddenFolders = [];\n    Object.entries(folders).forEach(([path, settings]) => {\n      if (settings.render && paths.some(p => p.indexOf(path) === 0) && !settings.render(this.get)) hiddenFolders.push(path + '.');\n    });\n    const visiblePaths = [];\n    orderedPaths.forEach(path => {\n      if (path in data && data[path].__refCount > 0 && hiddenFolders.every(p => path.indexOf(p) === -1) && (!data[path].render || data[path].render(this.get))) visiblePaths.push(path);\n    });\n    return visiblePaths;\n  };\n\n  this.setOrderedPaths = newPaths => {\n    newPaths.forEach(p => orderedPaths.add(p));\n  };\n\n  this.orderPaths = paths => {\n    this.setOrderedPaths(paths);\n    return paths;\n  };\n\n  this.disposePaths = paths => {\n    store.setState(s => {\n      const data = s.data;\n      paths.forEach(path => {\n        if (path in data) {\n          const input = data[path];\n          input.__refCount--;\n\n          if (input.__refCount === 0 && input.type in SpecialInputs) {\n            delete data[path];\n          }\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n\n  this.dispose = () => {\n    store.setState(() => {\n      return {\n        data: {}\n      };\n    });\n  };\n\n  this.getFolderSettings = path => {\n    return folders[path] || {};\n  };\n\n  this.getData = () => {\n    return store.getState().data;\n  };\n\n  this.addData = (newData, override) => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(newData).forEach(([path, newInputData]) => {\n        let input = data[path];\n\n        if (!!input) {\n          const {\n            type,\n            value\n          } = newInputData,\n                rest = _objectWithoutProperties(newInputData, [\"type\", \"value\"]);\n\n          if (type !== input.type) {\n            warn(LevaErrors.INPUT_TYPE_OVERRIDE, type);\n          } else {\n            if (input.__refCount === 0 || override) {\n              Object.assign(input, rest);\n            }\n\n            input.__refCount++;\n          }\n        } else {\n          data[path] = _objectSpread2(_objectSpread2({}, newInputData), {}, {\n            __refCount: 1\n          });\n        }\n      });\n      return {\n        data\n      };\n    });\n  };\n\n  this.setValueAtPath = (path, value) => {\n    store.setState(s => {\n      const data = s.data;\n      updateInput(data[path], value, path, this);\n      return {\n        data\n      };\n    });\n  };\n\n  this.setSettingsAtPath = (path, settings) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].settings = _objectSpread2(_objectSpread2({}, data[path].settings), settings);\n      return {\n        data\n      };\n    });\n  };\n\n  this.disableInputAtPath = (path, flag) => {\n    store.setState(s => {\n      const data = s.data;\n      data[path].disabled = flag;\n      return {\n        data\n      };\n    });\n  };\n\n  this.set = values => {\n    store.setState(s => {\n      const data = s.data;\n      Object.entries(values).forEach(([path, value]) => {\n        try {\n          updateInput(data[path], value);\n        } catch (_unused) {}\n      });\n      return {\n        data\n      };\n    });\n  };\n\n  this.get = path => {\n    try {\n      return this.getData()[path].value;\n    } catch (e) {\n      warn(LevaErrors.PATH_DOESNT_EXIST, path);\n    }\n  };\n\n  const _getDataFromSchema = (schema, rootPath, mappedPaths) => {\n    const data = {};\n    Object.entries(schema).forEach(([key, rawInput]) => {\n      if (key === '') return warn(LevaErrors.EMPTY_KEY);\n      let newPath = join(rootPath, key);\n\n      if (rawInput.type === SpecialInputs.FOLDER) {\n        const newData = _getDataFromSchema(rawInput.schema, newPath, mappedPaths);\n\n        Object.assign(data, newData);\n        if (!(newPath in folders)) folders[newPath] = rawInput.settings;\n      } else if (key in mappedPaths) {\n        warn(LevaErrors.DUPLICATE_KEYS, key, newPath, mappedPaths[key].path);\n      } else {\n        const normalizedInput = normalizeInput(rawInput, key, newPath, data);\n\n        if (normalizedInput) {\n          const {\n            type,\n            options,\n            input\n          } = normalizedInput;\n\n          const {\n            onChange\n          } = options,\n                _options = _objectWithoutProperties(options, [\"onChange\"]);\n\n          data[newPath] = _objectSpread2(_objectSpread2({\n            type\n          }, _options), input);\n          mappedPaths[key] = {\n            path: newPath,\n            onChange\n          };\n        } else {\n          warn(LevaErrors.UNKNOWN_INPUT, newPath, rawInput);\n        }\n      }\n    });\n    return data;\n  };\n\n  this.getDataFromSchema = schema => {\n    const mappedPaths = {};\n\n    const data = _getDataFromSchema(schema, '', mappedPaths);\n\n    return [data, mappedPaths];\n  };\n};\nconst levaStore = new Store();\nfunction useCreateStore() {\n  return useMemo(() => new Store(), []);\n}\n\nif (process.env.NODE_ENV === 'development' && typeof window !== 'undefined') {\n  window.__LEVA__STORE = levaStore;\n}\n\nconst defaultSettings$1 = {\n  collapsed: false\n};\nfunction folder(schema, settings) {\n  return {\n    type: SpecialInputs.FOLDER,\n    schema,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings$1), settings)\n  };\n}\n\nfunction button(onClick) {\n  return {\n    type: SpecialInputs.BUTTON,\n    onClick\n  };\n}\n\nfunction buttonGroup(opts) {\n  return {\n    type: SpecialInputs.BUTTON_GROUP,\n    opts\n  };\n}\n\nconst defaultSettings = {\n  graph: false,\n  interval: 100\n};\nfunction monitor(objectOrFn, settings) {\n  return {\n    type: SpecialInputs.MONITOR,\n    objectOrFn,\n    settings: _objectSpread2(_objectSpread2({}, defaultSettings), settings)\n  };\n}\n\nconst isInput = v => '__levaInput' in v;\nconst buildTree = (paths, filter) => {\n  const tree = {};\n\n  const _filter = filter ? filter.toLowerCase() : null;\n\n  paths.forEach(path => {\n    const [valueKey, folderPath] = getKeyPath(path);\n\n    if (!_filter || valueKey.toLowerCase().indexOf(_filter) > -1) {\n      merge(tree, folderPath, {\n        [valueKey]: {\n          __levaInput: true,\n          path\n        }\n      });\n    }\n  });\n  return tree;\n};\n\nfunction FolderTitle({\n  toggle,\n  toggled,\n  name\n}) {\n  return React.createElement(StyledTitle, {\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled\n  }), React.createElement(\"div\", null, name));\n}\n\nfunction ControlInput(_ref) {\n  let {\n    type,\n    label,\n    path,\n    valueKey,\n    value,\n    settings,\n    setValue,\n    disabled\n  } = _ref,\n      rest = _objectWithoutProperties(_ref, [\"type\", \"label\", \"path\", \"valueKey\", \"value\", \"settings\", \"setValue\", \"disabled\"]);\n\n  const {\n    displayValue,\n    onChange,\n    onUpdate\n  } = useInputSetters({\n    type,\n    value,\n    settings,\n    setValue\n  });\n  const Input = Plugins[type].component;\n\n  if (!Input) {\n    warn(LevaErrors.NO_COMPONENT_FOR_TYPE, type, path);\n    return null;\n  }\n\n  return React.createElement(InputContext.Provider, {\n    value: _objectSpread2({\n      key: valueKey,\n      path,\n      id: 'leva__' + path,\n      label,\n      displayValue,\n      value,\n      onChange,\n      onUpdate,\n      settings,\n      setValue,\n      disabled\n    }, rest)\n  }, React.createElement(StyledInputWrapper, {\n    disabled: disabled\n  }, React.createElement(Input, null)));\n}\n\nconst StyledButton = styled('button', {\n  display: 'block',\n  $leva__reset: '',\n  fontWeight: '$leva__button',\n  color: '$leva__highlight3',\n  height: '$leva__rowHeight',\n  borderStyle: 'none',\n  borderRadius: '$leva__sm',\n  backgroundColor: '$leva__accent2',\n  cursor: 'pointer',\n  $leva__hover: '$leva__accent3',\n  $leva__active: '$leva__accent3 $leva__accent1',\n  $leva__focus: ''\n});\n\nfunction Button({\n  onClick,\n  label\n}) {\n  return React.createElement(Row, null, React.createElement(StyledButton, {\n    onClick: () => onClick()\n  }, label));\n}\n\nconst StyledButtonGroup = styled('div', {\n  $leva__flex: '',\n  justifyContent: 'flex-end',\n  gap: '$leva__colGap'\n});\n\nconst StyledButtonGroupButton = styled('button', {\n  $leva__reset: '',\n  cursor: 'pointer',\n  borderRadius: '$leva__xs',\n  '&:hover': {\n    backgroundColor: '$leva__elevation3'\n  }\n});\n\nfunction ButtonGroup({\n  label,\n  opts\n}) {\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, null, label), React.createElement(StyledButtonGroup, null, Object.entries(opts).map(([label, onClick]) => React.createElement(StyledButtonGroupButton, {\n    key: label,\n    onClick: () => onClick()\n  }, label))));\n}\n\nconst Canvas = styled('canvas', {\n  height: '$leva__monitorHeight',\n  width: '100%',\n  display: 'block',\n  borderRadius: '$leva__sm'\n});\n\nconst POINTS = 100;\n\nfunction push(arr, val) {\n  arr.push(val);\n  if (arr.length > POINTS) arr.shift();\n}\n\nconst MonitorCanvas = forwardRef(function ({\n  initialValue\n}, ref) {\n  const accentColor = useTh('colors', 'leva__highlight3');\n  const backgroundColor = useTh('colors', 'leva__elevation2');\n  const fillColor = useTh('colors', 'leva__highlight1');\n  const [gradientTop, gradientBottom] = useMemo(() => {\n    return [tc(fillColor).setAlpha(0.4).toRgbString(), tc(fillColor).setAlpha(0.1).toRgbString()];\n  }, [fillColor]);\n  const points = useRef([initialValue]);\n  const min = useRef(initialValue);\n  const max = useRef(initialValue);\n  const raf = useRef();\n  const drawPlot = useCallback((_canvas, _ctx) => {\n    if (!_canvas) return;\n    const {\n      width,\n      height\n    } = _canvas;\n    const path = new Path2D();\n    const interval = width / POINTS;\n    const verticalPadding = height * 0.05;\n\n    for (let i = 0; i < points.current.length; i++) {\n      const p = range(points.current[i], min.current, max.current);\n      const x = interval * i;\n      const y = height - p * (height - verticalPadding * 2) - verticalPadding;\n      path.lineTo(x, y);\n    }\n\n    _ctx.clearRect(0, 0, width, height);\n\n    const gradientPath = new Path2D(path);\n    gradientPath.lineTo(interval * (points.current.length + 1), height);\n    gradientPath.lineTo(0, height);\n    gradientPath.lineTo(0, 0);\n\n    const gradient = _ctx.createLinearGradient(0, 0, 0, height);\n\n    gradient.addColorStop(0.0, gradientTop);\n    gradient.addColorStop(1.0, gradientBottom);\n    _ctx.fillStyle = gradient;\n\n    _ctx.fill(gradientPath);\n\n    _ctx.strokeStyle = backgroundColor;\n    _ctx.lineJoin = 'round';\n    _ctx.lineWidth = 14;\n\n    _ctx.stroke(path);\n\n    _ctx.strokeStyle = accentColor;\n    _ctx.lineWidth = 2;\n\n    _ctx.stroke(path);\n  }, [accentColor, backgroundColor, gradientTop, gradientBottom]);\n  const [canvas, ctx] = useCanvas2d(drawPlot);\n  useImperativeHandle(ref, () => ({\n    frame: val => {\n      if (min.current === undefined || val < min.current) min.current = val;\n      if (max.current === undefined || val > max.current) max.current = val;\n      push(points.current, val);\n      raf.current = requestAnimationFrame(() => drawPlot(canvas.current, ctx.current));\n    }\n  }), [canvas, ctx, drawPlot]);\n  useEffect(() => () => cancelAnimationFrame(raf.current), []);\n  return React.createElement(Canvas, {\n    ref: canvas\n  });\n});\n\nconst parse = val => Number.isFinite(val) ? val.toPrecision(2) : val.toString();\n\nconst MonitorLog = forwardRef(function ({\n  initialValue\n}, ref) {\n  const [val, set] = useState(parse(initialValue));\n  useImperativeHandle(ref, () => ({\n    frame: v => set(parse(v))\n  }), []);\n  return React.createElement(\"div\", null, val);\n});\n\nfunction getValue(o) {\n  return typeof o === 'function' ? o() : o.current;\n}\n\nfunction Monitor({\n  label,\n  objectOrFn,\n  settings\n}) {\n  const ref = useRef();\n  const initialValue = useRef(getValue(objectOrFn));\n  useEffect(() => {\n    const timeout = window.setInterval(() => {\n      var _ref$current;\n\n      if (document.hidden) return;\n      (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.frame(getValue(objectOrFn));\n    }, settings.interval);\n    return () => window.clearInterval(timeout);\n  }, [objectOrFn, settings.interval]);\n  return React.createElement(Row, {\n    input: true\n  }, React.createElement(Label, {\n    align: \"top\"\n  }, label), settings.graph ? React.createElement(MonitorCanvas, {\n    ref: ref,\n    initialValue: initialValue.current\n  }) : React.createElement(MonitorLog, {\n    ref: ref,\n    initialValue: initialValue.current\n  }));\n}\n\nconst specialComponents = {\n  [SpecialInputs.BUTTON]: Button,\n  [SpecialInputs.BUTTON_GROUP]: ButtonGroup,\n  [SpecialInputs.MONITOR]: Monitor\n};\nconst Control = React.memo(({\n  path\n}) => {\n  const [input, {\n    set,\n    setSettings,\n    disable,\n    storeId\n  }] = useInput(path);\n  if (!input) return null;\n\n  const {\n    type,\n    label,\n    key\n  } = input,\n        inputProps = _objectWithoutProperties(input, [\"type\", \"label\", \"key\"]);\n\n  if (type in SpecialInputs) {\n    const SpecialInputForType = specialComponents[type];\n    return React.createElement(SpecialInputForType, _extends({\n      label: label,\n      path: path\n    }, inputProps));\n  }\n\n  if (!(type in Plugins)) {\n    log(LevaErrors.UNSUPPORTED_INPUT, type, path);\n    return null;\n  }\n\n  return React.createElement(ControlInput, _extends({\n    key: storeId + path,\n    type: type,\n    label: label,\n    storeId: storeId,\n    path: path,\n    valueKey: key,\n    setValue: set,\n    setSettings: setSettings,\n    disable: disable\n  }, inputProps));\n});\n\nconst Folder = ({\n  name,\n  path,\n  tree\n}) => {\n  const store = useStoreContext();\n  const newPath = join(path, name);\n  const {\n    collapsed\n  } = store.getFolderSettings(newPath);\n  const [toggled, setToggle] = useState(!collapsed);\n  return React.createElement(StyledFolder, null, React.createElement(FolderTitle, {\n    name: name,\n    toggled: toggled,\n    toggle: () => setToggle(t => !t)\n  }), React.createElement(TreeWrapper, {\n    parent: newPath,\n    tree: tree,\n    toggled: toggled\n  }));\n};\n\nconst TreeWrapper = React.memo(({\n  isRoot: _isRoot = false,\n  fill: _fill = false,\n  flat: _flat = false,\n  parent,\n  tree,\n  toggled\n}) => {\n  const {\n    wrapperRef,\n    contentRef\n  } = useToggle(toggled);\n  return React.createElement(StyledWrapper, {\n    ref: wrapperRef,\n    isRoot: _isRoot,\n    fill: _fill,\n    flat: _flat\n  }, React.createElement(StyledContent, {\n    ref: contentRef,\n    isRoot: _isRoot,\n    toggled: toggled\n  }, Object.entries(tree).map(([key, value]) => isInput(value) ? React.createElement(Control, {\n    key: value.path,\n    valueKey: value.valueKey,\n    path: value.path\n  }) : React.createElement(Folder, {\n    key: key,\n    name: key,\n    path: parent,\n    tree: value\n  }))));\n});\n\nconst StyledRoot = styled('div', {\n  position: 'relative',\n  fontFamily: '$leva__mono',\n  fontSize: '$leva__root',\n  color: '$leva__rootText',\n  backgroundColor: '$leva__elevation1',\n  variants: {\n    fill: {\n      false: {\n        position: 'fixed',\n        top: '10px',\n        right: '10px',\n        zIndex: 1000,\n        width: '$leva__rootWidth'\n      },\n      true: {\n        position: 'relative',\n        width: '100%'\n      }\n    },\n    flat: {\n      false: {\n        borderRadius: '$leva__lg',\n        boxShadow: '$leva__level1'\n      }\n    },\n    oneLineLabels: {\n      true: {\n        [`${StyledInputRow}`]: {\n          gridTemplateColumns: 'auto',\n          gridAutoColumns: 'minmax(max-content, 1fr)',\n          gridAutoRows: 'minmax($sizes$leva__rowHeight), auto)',\n          rowGap: 0,\n          columnGap: 0,\n          marginTop: '$leva__rowGap'\n        }\n      }\n    },\n    hideTitleBar: {\n      true: {\n        $$titleBarHeight: '0px'\n      },\n      false: {\n        $$titleBarHeight: '$sizes$leva__titleBarHeight'\n      }\n    }\n  },\n  '&,*,*:after,*:before': {\n    boxSizing: 'border-box'\n  },\n  '*::selection': {\n    backgroundColor: '$leva__accent2'\n  }\n});\n\nconst iconWidth = 40;\nconst Icon = styled('i', {\n  $leva__flexCenter: '',\n  width: iconWidth,\n  userSelect: 'none',\n  cursor: 'pointer',\n  '> svg': {\n    fill: '$leva__highlight1',\n    transition: 'transform 350ms ease, fill 250ms ease'\n  },\n  '&:hover > svg': {\n    fill: '$leva__highlight3'\n  },\n  variants: {\n    active: {\n      true: {\n        '> svg': {\n          fill: '$leva__highlight2'\n        }\n      }\n    }\n  }\n});\nconst StyledTitleWithFilter = styled('div', {\n  display: 'flex',\n  alignItems: 'stretch',\n  justifyContent: 'space-between',\n  height: '$leva__titleBarHeight',\n  variants: {\n    mode: {\n      drag: {\n        cursor: 'grab'\n      }\n    }\n  }\n});\nconst FilterWrapper = styled('div', {\n  $leva__flex: '',\n  position: 'relative',\n  width: '100%',\n  overflow: 'hidden',\n  transition: 'height 250ms ease',\n  color: '$leva__highlight3',\n  paddingLeft: '$leva__md',\n  [`> ${Icon}`]: {\n    height: 30\n  },\n  variants: {\n    toggled: {\n      true: {\n        height: 30\n      },\n      false: {\n        height: 0\n      }\n    }\n  }\n});\nconst StyledFilterInput = styled('input', {\n  $leva__reset: '',\n  flex: 1,\n  position: 'relative',\n  height: 30,\n  width: '100%',\n  backgroundColor: 'transparent',\n  fontSize: '10px',\n  borderRadius: '$leva__root',\n  '&:focus': {},\n  '&::placeholder': {\n    color: '$leva__highlight2'\n  }\n});\nconst TitleContainer = styled('div', {\n  $leva__flexCenter: '',\n  flex: 1,\n  '> svg': {\n    fill: '$leva__highlight1'\n  },\n  color: '$leva__highlight1',\n  variants: {\n    drag: {\n      true: {\n        $leva__draggable: '',\n        '> svg': {\n          transition: 'fill 250ms ease'\n        },\n        '&:hover': {\n          color: '$leva__highlight3'\n        },\n        '&:hover > svg': {\n          fill: '$leva__highlight3'\n        }\n      }\n    },\n    filterEnabled: {\n      false: {\n        paddingRight: iconWidth\n      }\n    }\n  }\n});\n\nconst FilterInput = React.forwardRef(({\n  setFilter\n}, ref) => {\n  const [value, set] = useState('');\n  const debouncedOnChange = useMemo(() => debounce(setFilter, 250), [setFilter]);\n\n  const clear = () => {\n    setFilter('');\n    set('');\n  };\n\n  const _onChange = e => {\n    const v = e.currentTarget.value;\n    set(v);\n  };\n\n  useEffect(() => {\n    debouncedOnChange(value);\n  }, [value, debouncedOnChange]);\n  return React.createElement(React.Fragment, null, React.createElement(StyledFilterInput, {\n    ref: ref,\n    value: value,\n    placeholder: \"[Open filter with CMD+SHIFT+L]\",\n    onPointerDown: e => e.stopPropagation(),\n    onChange: _onChange\n  }), React.createElement(Icon, {\n    onClick: () => clear(),\n    style: {\n      visibility: value ? 'visible' : 'hidden'\n    }\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"14\",\n    width: \"14\",\n    viewBox: \"0 0 20 20\",\n    fill: \"currentColor\"\n  }, React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z\",\n    clipRule: \"evenodd\"\n  }))));\n});\nfunction TitleWithFilter({\n  setFilter,\n  onDrag,\n  toggle,\n  toggled,\n  title,\n  drag,\n  filterEnabled\n}) {\n  const [filterShown, setShowFilter] = useState(false);\n  const inputRef = useRef(null);\n  useEffect(() => {\n    var _inputRef$current, _inputRef$current2;\n\n    if (filterShown) (_inputRef$current = inputRef.current) === null || _inputRef$current === void 0 ? void 0 : _inputRef$current.focus();else (_inputRef$current2 = inputRef.current) === null || _inputRef$current2 === void 0 ? void 0 : _inputRef$current2.blur();\n  }, [filterShown]);\n  const bind = useDrag$1(({\n    offset: [x, y]\n  }) => onDrag({\n    x,\n    y\n  }), {\n    filterTaps: true\n  });\n  useEffect(() => {\n    const handleShortcut = event => {\n      if (event.key === 'L' && event.shiftKey && event.metaKey) {\n        setShowFilter(f => !f);\n      }\n    };\n\n    window.addEventListener('keydown', handleShortcut);\n    return () => window.removeEventListener('keydown', handleShortcut);\n  }, []);\n  return React.createElement(React.Fragment, null, React.createElement(StyledTitleWithFilter, {\n    mode: drag ? 'drag' : undefined\n  }, React.createElement(Icon, {\n    active: !toggled,\n    onClick: () => toggle()\n  }, React.createElement(Chevron, {\n    toggled: toggled,\n    width: 12,\n    height: 8\n  })), React.createElement(TitleContainer, _extends({}, drag ? bind() : {}, {\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), title === undefined && drag ? React.createElement(\"svg\", {\n    width: \"20\",\n    height: \"10\",\n    viewBox: \"0 0 28 14\",\n    xmlns: \"http://www.w3.org/2000/svg\"\n  }, React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"2\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"2\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"14\",\n    cy: \"12\",\n    r: \"2\"\n  }), React.createElement(\"circle\", {\n    cx: \"26\",\n    cy: \"12\",\n    r: \"2\"\n  })) : title), filterEnabled && React.createElement(Icon, {\n    active: filterShown,\n    onClick: () => setShowFilter(f => !f)\n  }, React.createElement(\"svg\", {\n    xmlns: \"http://www.w3.org/2000/svg\",\n    height: \"20\",\n    viewBox: \"0 0 20 20\"\n  }, React.createElement(\"path\", {\n    d: \"M9 9a2 2 0 114 0 2 2 0 01-4 0z\"\n  }), React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    d: \"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a4 4 0 00-3.446 6.032l-2.261 2.26a1 1 0 101.414 1.415l2.261-2.261A4 4 0 1011 5z\",\n    clipRule: \"evenodd\"\n  })))), React.createElement(FilterWrapper, {\n    toggled: filterShown\n  }, React.createElement(FilterInput, {\n    ref: inputRef,\n    setFilter: setFilter\n  })));\n}\n\nfunction LevaRoot(_ref) {\n  let {\n    store,\n    hidden = false,\n    theme,\n    collapsed = false\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"store\", \"hidden\", \"theme\", \"collapsed\"]);\n\n  const themeContext = useDeepMemo(() => mergeTheme(theme), [theme]);\n  const [toggled, setToggle] = useState(!collapsed);\n  if (!store || hidden) return null;\n  return React.createElement(ThemeContext.Provider, {\n    value: themeContext\n  }, React.createElement(LevaCore, _extends({\n    store: store\n  }, props, {\n    toggled: toggled,\n    setToggle: setToggle,\n    rootClass: themeContext.className\n  })));\n}\nconst LevaCore = React.memo(({\n  store,\n  rootClass,\n  fill: _fill = false,\n  flat: _flat = false,\n  oneLineLabels: _oneLineLabels = false,\n  titleBar: _titleBar = {\n    title: undefined,\n    drag: true,\n    filter: true\n  },\n  hideCopyButton: _hideCopyButton = false,\n  toggled,\n  setToggle\n}) => {\n  var _titleBar$drag, _titleBar$filter;\n\n  const paths = useVisiblePaths(store);\n  const [filter, setFilter] = useState('');\n  const tree = useMemo(() => buildTree(paths, filter), [paths, filter]);\n  const [rootRef, set] = useTransform();\n  const shouldShow = paths.length > 0;\n  const title = typeof _titleBar === \"object\" ? _titleBar.title : undefined;\n  const drag = typeof _titleBar === \"object\" ? (_titleBar$drag = _titleBar.drag) !== null && _titleBar$drag !== void 0 ? _titleBar$drag : true : true;\n  const filterEnabled = typeof _titleBar === \"object\" ? (_titleBar$filter = _titleBar.filter) !== null && _titleBar$filter !== void 0 ? _titleBar$filter : true : true;\n  return React.createElement(PanelSettingsContext.Provider, {\n    value: {\n      hideCopyButton: _hideCopyButton\n    }\n  }, React.createElement(StyledRoot, {\n    ref: rootRef,\n    className: rootClass,\n    fill: _fill,\n    flat: _flat,\n    oneLineLabels: _oneLineLabels,\n    hideTitleBar: !_titleBar,\n    style: {\n      display: shouldShow ? 'block' : 'none'\n    }\n  }, _titleBar && React.createElement(TitleWithFilter, {\n    onDrag: set,\n    setFilter: setFilter,\n    toggle: () => setToggle(t => !t),\n    toggled: toggled,\n    title: title,\n    drag: drag,\n    filterEnabled: filterEnabled\n  }), shouldShow && React.createElement(StoreContext.Provider, {\n    value: store\n  }, React.createElement(TreeWrapper, {\n    isRoot: true,\n    fill: _fill,\n    flat: _flat,\n    tree: tree,\n    toggled: toggled\n  }))));\n});\n\nlet rootInitialized = false;\nlet rootEl = null;\nfunction Leva(_ref) {\n  let {\n    isRoot = false\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"isRoot\"]);\n\n  useEffect(() => {\n    rootInitialized = true;\n\n    if (!isRoot && rootEl) {\n      rootEl.remove();\n      rootEl = null;\n    }\n\n    return () => {\n      if (!isRoot) rootInitialized = false;\n    };\n  }, [isRoot]);\n  return React.createElement(LevaRoot, _extends({\n    store: levaStore\n  }, props));\n}\nfunction useRenderRoot(isGlobalPanel) {\n  useEffect(() => {\n    if (isGlobalPanel && !rootInitialized) {\n      if (!rootEl) {\n        rootEl = document.getElementById('leva__root') || Object.assign(document.createElement('div'), {\n          id: 'leva__root'\n        });\n\n        if (document.body) {\n          document.body.appendChild(rootEl);\n          ReactDOM.render(React.createElement(Leva, {\n            isRoot: true\n          }), rootEl);\n        }\n      }\n\n      rootInitialized = true;\n    }\n  }, [isGlobalPanel]);\n}\n\nfunction LevaPanel(_ref) {\n  let {\n    store\n  } = _ref,\n      props = _objectWithoutProperties(_ref, [\"store\"]);\n\n  const parentStore = useStoreContext();\n\n  const _store = store === undefined ? parentStore : store;\n\n  return React.createElement(LevaRoot, _extends({\n    store: _store\n  }, props));\n}\n\nfunction parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  let schema;\n  let folderName = undefined;\n  let folderSettings;\n  let hookSettings;\n  let deps;\n\n  if (typeof schemaOrFolderName === 'string') {\n    folderName = schemaOrFolderName;\n    schema = settingsOrDepsOrSchema;\n\n    if (Array.isArray(depsOrSettingsOrFolderSettings)) {\n      deps = depsOrSettingsOrFolderSettings;\n    } else {\n      if (depsOrSettingsOrFolderSettings) {\n        if ('store' in depsOrSettingsOrFolderSettings) {\n          hookSettings = depsOrSettingsOrFolderSettings;\n          deps = depsOrSettings;\n        } else {\n          folderSettings = depsOrSettingsOrFolderSettings;\n\n          if (Array.isArray(depsOrSettings)) {\n            deps = depsOrSettings;\n          } else {\n            hookSettings = depsOrSettings;\n            deps = depsOrUndefined;\n          }\n        }\n      }\n    }\n  } else {\n    schema = schemaOrFolderName;\n\n    if (Array.isArray(settingsOrDepsOrSchema)) {\n      deps = settingsOrDepsOrSchema;\n    } else {\n      hookSettings = settingsOrDepsOrSchema;\n      deps = depsOrSettingsOrFolderSettings;\n    }\n  }\n\n  return {\n    schema,\n    folderName,\n    folderSettings,\n    hookSettings,\n    deps: deps || []\n  };\n}\n\nfunction useControls(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined) {\n  const {\n    folderName,\n    schema,\n    folderSettings,\n    hookSettings,\n    deps\n  } = parseArgs(schemaOrFolderName, settingsOrDepsOrSchema, depsOrSettingsOrFolderSettings, depsOrSettings, depsOrUndefined);\n  const schemaIsFunction = typeof schema === 'function';\n  const depsChanged = useRef(false);\n  const firstRender = useRef(true);\n\n  const _schema = useDeepMemo(() => {\n    depsChanged.current = true;\n    const s = typeof schema === 'function' ? schema() : schema;\n    return folderName ? {\n      [folderName]: folder(s, folderSettings)\n    } : s;\n  }, deps);\n\n  const isGlobalPanel = !(hookSettings !== null && hookSettings !== void 0 && hookSettings.store);\n  useRenderRoot(isGlobalPanel);\n  const [store] = useState(() => (hookSettings === null || hookSettings === void 0 ? void 0 : hookSettings.store) || levaStore);\n  const [initialData, mappedPaths] = useMemo(() => store.getDataFromSchema(_schema), [store, _schema]);\n  const [allPaths, renderPaths, onChangePaths] = useMemo(() => {\n    const allPaths = [];\n    const renderPaths = [];\n    const onChangePaths = {};\n    Object.values(mappedPaths).forEach(({\n      path,\n      onChange\n    }) => {\n      allPaths.push(path);\n      if (!!onChange) onChangePaths[path] = onChange;else renderPaths.push(path);\n    });\n    return [allPaths, renderPaths, onChangePaths];\n  }, [mappedPaths]);\n  const paths = useMemo(() => store.orderPaths(allPaths), [allPaths, store]);\n  const values = useValuesForPath(store, renderPaths, initialData);\n  const set = useCallback(values => {\n    const _values = Object.entries(values).reduce((acc, [p, v]) => Object.assign(acc, {\n      [mappedPaths[p].path]: v\n    }), {});\n\n    store.set(_values);\n  }, [store, mappedPaths]);\n  useEffect(() => {\n    const shouldOverrideSettings = !firstRender.current && depsChanged.current;\n    store.addData(initialData, shouldOverrideSettings);\n    firstRender.current = false;\n    depsChanged.current = false;\n    return () => store.disposePaths(paths);\n  }, [store, paths, initialData]);\n  useEffect(() => {\n    const unsubscriptions = [];\n    Object.entries(onChangePaths).forEach(([path, onChange]) => {\n      onChange(store.get(path));\n      const unsub = store.useStore.subscribe(onChange, s => s.data[path].value, shallow);\n      unsubscriptions.push(unsub);\n    });\n    return () => unsubscriptions.forEach(unsub => unsub());\n  }, [store, onChangePaths]);\n  if (schemaIsFunction) return [values, set];\n  return values;\n}\n\nregister(LevaInputs.SELECT, select);\nregister(LevaInputs.IMAGE, image);\nregister(LevaInputs.NUMBER, number$1);\nregister(LevaInputs.COLOR, color);\nregister(LevaInputs.STRING, string);\nregister(LevaInputs.BOOLEAN, boolean);\nregister(LevaInputs.INTERVAL, interval);\nregister(LevaInputs.VECTOR3D, vector3d);\nregister(LevaInputs.VECTOR2D, vector2d);\n\nexport { Leva, LevaPanel, button, buttonGroup, folder, levaStore, monitor, useControls, useCreateStore };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}